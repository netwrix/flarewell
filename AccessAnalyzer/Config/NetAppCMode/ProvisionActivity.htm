<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Stealthbits_WebsiteSkin" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Provision ONTAP Account</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="complementary" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="Main navigation and search" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../EnterpriseAuditor/Overview.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>
                                        <script type="text/javascript" src="../../Resources/zzJavaScript/plugins.min.js">
                                        </script>
                                    </p>
                                    <div role="main" id="mc-main-content">
                                        <h1>Provision ONTAP Account</h1>
                                        <p>This topic describes the steps needed to create a user account with the privileges required to connect the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> Agent to ONTAP&#160;API and to execute the API calls required for activity monitoring and configuration. </p>
                                        <p>Provisioning this account is a two part process:</p>
                                        <ul>
                                            <li>
                                                <p>Part 1: Create Security Role </p>
                                            </li>
                                            <li>
                                                <p>Part 2: Create Security Login</p>
                                            </li>
                                        </ul>
                                        <h2>Part 1: Create Security Role</h2>
                                        <p>This section provides instructions for creating an access-control role. An access-control role consists of a role name and a set of commands or API&#160;endpoints to which the role has access. It also includes an access level (none, read-only, or all) and a query that applies to the specified command or API endpoint.</p>
                                        <p>The permissions needed depends on the functionality level:</p>
                                        <ul>
                                            <li>
                                                <p>Least Privileged: ONLY Collect Events – This is the minimal functionality level. A user manually configures FPolicy and ensures that it stays enabled and connected. The product only collects events. This functionality level is not recommended as it requires an additional solution that tracks the state of FPolicy and fixes the problem should ONTAP disconnect or should the policy become disabled.<br /></p>
                                            </li>
                                            <li>
                                                <p class="Recommended-1" data-mc-autonum="&lt;span style=&quot;color: #fb8000;&quot; class=&quot;mcFormatColor&quot;&gt;&lt;b&gt;&lt;i&gt;RECOMMENDED: &lt;/i&gt;&lt;/b&gt;&lt;/span&gt;"><span class="autonumber"><span class="Recommended"><span style="color: #fb8000;" class="mcFormatColor"><b><i>RECOMMENDED: </i></b></span></span></span>Less Privileged: Enable/Connect Policy &amp; Collect Events – With this level, the user still performs the initial FPolicy configuration manually. The product tracks the state of FPolicy with periodic checks to ensure it stays enabled and connected all the time. <br /></p>
                                            </li>
                                            <li>
                                                <p class="Recommended-1" data-mc-autonum="&lt;span style=&quot;color: #fb8000;&quot; class=&quot;mcFormatColor&quot;&gt;&lt;b&gt;&lt;i&gt;RECOMMENDED: &lt;/i&gt;&lt;/b&gt;&lt;/span&gt;"><span class="autonumber"><span class="Recommended"><span style="color: #fb8000;" class="mcFormatColor"><b><i>RECOMMENDED: </i></b></span></span></span>Automatically Configure the FPolicy – With this full-blown level, no manual configuration is needed. The product performs the initial FPolicy configuration; updates FPolicy to reflect configuration changes; ensures that FPolicy stays enabled and connected all the time. <br /></p>
                                            </li>
                                        </ul>
                                        <p>No matter which set of permissions you provision, validate the configuration before continuing to Part 2. See the <a href="#Validate_Part_1:_Security_Role_Configuration" target="_parent" title="Validate Part 1: Security Role Configuration" alt="Validate Part 1: Security Role Configuration" class="MCXref xref">Validate Part 1: Security Role Configuration</a> topic for additional information.</p>
                                        <p>If the FPolicy is to be used for both the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> and <span class="mc-variable SA.Product_Short_Name variable">Access Analyzer</span>, the account also needs to be provisioned with an additional permission. See the <a href="#Enterpri" title="Access Analyzer Integration" alt="Access Analyzer Integration" target="_parent" class="MCXref xref">Access Analyzer Integration</a> topic for additional information. </p>
                                        <p>The commands to create a role and names of permissions depend on the ONTAP API used. The product supports both the classic ONTAPI/ZAPI and the new REST API. For ONTAPI/ZAPI you need to use <code>security login role create</code> command to create a RBAC access control role. The required commands are listed in the <code>cmddirname</code> parameter. For REST API, use <code>security login rest-role create</code> command to create a REST access control role. The required API endpoint is specified in the <code>api</code> parameter. The following sections provide instructions for both API modes.</p>
                                        <h3>Least Privileged: ONLY Collect Events</h3>
                                        <p>If the desire is for a least privileged model, the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> requires the following permissions to collect events.</p>
                                        <h4>ONTAPI/ZAPI</h4>
                                        <ul>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">version</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">volume</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">vserver</code> – Readonly access</p>
                                            </li>
                                        </ul>
                                        <p>Use the following commands to provision read-only access to all required commands:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"version"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"volume"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span>&#160;&#160;&#160;&#160;</code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login role create <span style="color: #000000; ">-</span>role enterpriseauditor <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"version"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditor <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"volume"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditor <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver</code></pre>
                                            </div>
                                        </div>
                                        <h4>REST API</h4>
                                        <ul>
                                            <li>
                                                <p><code>/api/cluster</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code>/api/protocols/cifs/services</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code>/api/storage/volumes</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code>/api/svm/svms</code> – Readonly access</p>
                                            </li>
                                        </ul>
                                        <p>Use the following commands to provision read-only access to all required API endpoints:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/cluster"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/protocols/cifs/services"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/storage/volumes"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/svm/svms"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/cluster"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/protocols/cifs/services"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/storage/volumes"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/svm/svms"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver</code></pre>
                                            </div>
                                        </div>
                                        <p class="Note-1" data-mc-autonum="&lt;b&gt;NOTE: &lt;/b&gt;"><span class="autonumber"><span class="Note"><b>NOTE: </b></span></span>If the FPolicy account is configured with these permissions, it is necessary to manually configure the FPolicy. See the <a href="ConfigureFPolicy.htm" target="_parent" title="Configure FPolicy" alt="Configure FPolicy" class="MCXref xref">Configure FPolicy</a> topic for additional information.</p>
                                        <h3>Less Privileged: Enable/Connect FPolicy &amp; Collect Events</h3>
                                        <p>If the desire is for a less privileged model, the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> requires the following permissions to collect events:</p>
                                        <h4>ONTAPI/ZAPI</h4>
                                        <ul>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">version</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">volume</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">vserver</code> – Readonly access</p>
                                                <p><code>network interface</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">vserver fpolicy disable</code> – All access</p>
                                            </li>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">vserver fpolicy enable</code> – All access</p>
                                                <p class="Remember" data-mc-autonum="&lt;span style=&quot;color: #fb8000;&quot; class=&quot;mcFormatColor&quot;&gt;&lt;i&gt;Remember, &lt;/i&gt;&lt;/span&gt;"><span class="autonumber"><span class="Remember"><span style="color: #fb8000;" class="mcFormatColor"><i>Remember, </i></span></span></span>this permission permits the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> to enable the FPolicy. If the “Enable and connect FPolicy” option is employed but the permission is not provided, the agent will encounter “Failed to enable policy” errors, but it will still be able to connect to the FPolicy. Since this permission model requires a manual configuration of the FPolicy, then the need to manually enable the FPolicy will be met. </p>
                                            </li>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">vserver fpolicy engine-connect</code> – All access</p>
                                            </li>
                                        </ul>
                                        <p>Use the following command to provision access to all required commands:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"version"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"volume"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"network interface"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver fpolicy disable"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver fpolicy enable"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver fpolicy engine-connect"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"version"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"volume"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"network interface"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver fpolicy disable"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver fpolicy enable"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver fpolicy engine-connect"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver</code></pre>
                                            </div>
                                        </div>
                                        <h4>REST API</h4>
                                        <ul>
                                            <li>
                                                <p><code>/api/cluster</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code>/api/protocols/cifs/services</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code>/api/storage/volumes</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code>/api/svm/svms</code> – Readonly access</p>
                                            </li>
                                            <li><code>/api/network/ip/interfaces</code> – Readonly access</li>
                                            <li>
                                                <p><code>/api/protocols/fpolicy</code> – All access</p>
                                            </li>
                                        </ul>
                                        <p>Use the following commands to provision read-only access to all required API endpoints:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/cluster"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/protocols/cifs/services"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/storage/volumes"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/svm/svms"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/network/ip/interfaces"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/protocols/fpolicy"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/cluster"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/protocols/cifs/services"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/storage/volumes"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/svm/svms"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/network/ip/interfaces"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/protocols/fpolicy"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>vserver testserver</code></pre>
                                            </div>
                                        </div>
                                        <p class="Note-1" data-mc-autonum="&lt;b&gt;NOTE: &lt;/b&gt;"><span class="autonumber"><span class="Note"><b>NOTE: </b></span></span>If the FPolicy account is configured with these permissions, it is necessary to manually configure the FPolicy. See the <a href="ConfigureFPolicy.htm" target="_parent" title="Configure FPolicy" alt="Configure FPolicy" class="MCXref xref">Configure FPolicy</a> topic for additional information.</p>
                                        <h3>Automatically Configure the FPolicy</h3>
                                        <p>If the desire is for the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> to automatically configure the FPolicy, the security role requires the following permissions:</p>
                                        <h4>ONTAPI/ZAPI</h4>
                                        <ul>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">version</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">volume</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">vserver</code> – Readonly access</p>
                                                <p><code>network interface</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">vserver fpolicy</code> – All access</p>
                                            </li>
                                            <li>
                                                <p><code>security certificate install</code> – All access </p>
                                                <p class="Remember" data-mc-autonum="&lt;span style=&quot;color: #fb8000;&quot; class=&quot;mcFormatColor&quot;&gt;&lt;i&gt;Remember, &lt;/i&gt;&lt;/span&gt;"><span class="autonumber"><span class="Remember"><span style="color: #fb8000;" class="mcFormatColor"><i>Remember, </i></span></span></span>this permission is only needed for FPolicy TLS connections.</p>
                                            </li>
                                        </ul>
                                        <p>Use the following command to provision access to all required commands:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"version"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"volume"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"network interface"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver fpolicy"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"security certificate install"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"version"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"volume"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"network interface"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"vserver fpolicy"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver<br />security login role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"security certificate install"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver</code></pre>
                                            </div>
                                        </div>
                                        <h4>REST API</h4>
                                        <ul>
                                            <li>
                                                <p><code>/api/cluster</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code>/api/protocols/cifs/services</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code>/api/storage/volumes</code> – Readonly access</p>
                                            </li>
                                            <li>
                                                <p><code>/api/svm/svms</code> – Readonly access</p>
                                            </li>
                                            <li><code>/api/network/ip/interfaces</code> – Readonly access</li>
                                            <li>
                                                <p><code>/api/protocols/fpolicy</code> – All access</p>
                                            </li>
                                            <li>
                                                <p><code>/api/security/certificates</code> – All access<br /></p>
                                                <p>Remember, this permission is only needed for FPolicy TLS connections.<br /></p>
                                            </li>
                                        </ul>
                                        <p>Use the following commands to provision access to all required API endpoints:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/cluster"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/protocols/cifs/services"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/storage/volumes"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/svm/svms"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/network/ip/interfaces"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/protocols/fpolicy"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span><br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/security/certificates"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/cluster"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/protocols/cifs/services"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/storage/volumes"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/svm/svms"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/network/ip/interfaces"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/protocols/fpolicy"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>vserver testserver<br />security login rest<span style="color: #000000; ">-</span>role create <span style="color: #000000; ">-</span>role enterpriseauditorrest <span style="color: #000000; ">-</span>api <span style="color: #df5000; ">"/api/security/certificates"</span> <span style="color: #000000; ">-</span>access all <span style="color: #000000; ">-</span>vserver testserver</code></pre>
                                            </div>
                                        </div>
                                        <p class="Note-1" data-mc-autonum="&lt;b&gt;NOTE: &lt;/b&gt;"><span class="autonumber"><span class="Note"><b>NOTE: </b></span></span>If the FPolicy account is configured with these permissions, the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> can automatically configure the FPolicy. See the <a href="ConfigureFPolicy.htm" target="_parent" title="Configure FPolicy" alt="Configure FPolicy" class="MCXref xref">Configure FPolicy</a> topic for additional information. </p>
                                        <h3><a name="Enterpri"></a>Access Analyzer Integration</h3>
                                        <p>If the desire is for FPolicy to be used with both the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> and <span class="mc-variable SA._Product_Short_Name variable">Access Analyzer</span>, then the following permission is also required:</p>
                                        <ul>
                                            <li>
                                                <p><code style="font-family: 'Courier New';">security login role show-ontapi</code> – Readonly access</p>
                                            </li>
                                        </ul>
                                        <p>Use the following command to provision read-only access to security login role show-ontapi commands:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login role create <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"security login role show-ontapi"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login role create <span style="color: #000000; ">-</span>role enterpriseauditor <span style="color: #000000; ">-</span>cmddirname <span style="color: #df5000; ">"security login role show-ontapi"</span> <span style="color: #000000; ">-</span>access readonly <span style="color: #000000; ">-</span>query <span style="color: #df5000; ">""</span> <span style="color: #000000; ">-</span>vserver testserver</code></pre>
                                            </div>
                                        </div>
                                        <h3><a name="Validate_Part_1:_Security_Role_Configuration"></a>Validate Part 1: Security Role Configuration</h3>
                                        <p style="color: #000000;">For ONTAPI, run the following command to validate the RBAC security role configuration:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login role show <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login role show enterpriseauditor</code></pre>
                                            </div>
                                        </div>
                                        <p style="color: #000000;">Relevant NetApp Documentation: For more information about creating RBAC access control roles,  read the <a href="https://docs.netapp.com/us-en/ontap-cli-9141//security-login-role-create.html" class="Hyperlink" target="_blank" title="security login role create" alt="security login role create">security login role create</a> article.</p>
                                        <p style="color: #000000;">For REST API, run the following command to validate the REST security role configuration:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login rest<span style="color: #000000; ">-</span>role show <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login rest<span style="color: #000000; ">-</span>role show enterpriseauditorrest</code></pre>
                                            </div>
                                        </div>
                                        <p style="color: #000000;">For more information  about creating REST access control roles,  read the <a href="https://docs.netapp.com/us-en/ontap-cli-9141/security-login-rest-role-create.html" class="Hyperlink" target="_blank" title="security login rest-role create" alt="security login rest-role create">security login rest-role create</a> article.</p>
                                        <h2>Part 2: Create Security Login</h2>
                                        <p>Once the access control role has been created, apply it to a domain account.&#160;Ensure the following requirements are met:</p>
                                        <ul>
                                            <li>
                                                <p>The SVM used in the following command must be the same SVM used when creating the access control role in Part 1.</p>
                                            </li>
                                            <li>
                                                <p>All parameters are case sensitive.</p>
                                            </li>
                                            <li>
                                                <p>It is recommended to use lowercase for both domain and username. The case of domain and username created during the account provisioning process must match exactly to the credentials provided to the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> activity agent for authentication to work.</p>
                                            </li>
                                        </ul>
                                        <p>Use the following command to create the security login for the security role created in Part 1:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login create <span style="color: #000000; ">-</span>user<span style="color: #000000; ">-</span><span style="color: #a71d5d; font-weight: bold; ">or</span><span style="color: #000000; ">-</span>group<span style="color: #000000; ">-</span>name <span style="color: #000000; ">[</span>DOMAIN\DOMAINUSER<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>application ontapi <span style="color: #000000; ">-</span>authentication<span style="color: #000000; ">-</span>method <span style="color: #000000; ">[</span>DOMAIN_OR_PASSWORD_AUTH<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>role <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> <span style="color: #000000; ">-</span>vserver <span style="color: #000000; ">[</span>SVM_NAME<span style="color: #000000; ">]</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login create <span style="color: #000000; ">-</span>user<span style="color: #000000; ">-</span><span style="color: #a71d5d; font-weight: bold; ">or</span><span style="color: #000000; ">-</span>group<span style="color: #000000; ">-</span>name example\user1 <span style="color: #000000; ">-</span>application ontapi <span style="color: #000000; ">-</span>authentication<span style="color: #000000; ">-</span>method domain <span style="color: #000000; ">-</span>role enterpriseauditor <span style="color: #000000; ">-</span>vserver testserver</code></pre>
                                            </div>
                                        </div>
                                        <p style="color: #000000;">Validate this security login was created.</p>
                                        <h3>Validate Part 2: Security Login Creation</h3>
                                        <p style="color: #000000;">Run the following command to validate security login:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login show <span style="color: #000000; ">[</span>DOMAIN\DOMAINUSER<span style="color: #000000; ">]</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>security login show example\user1</code></pre>
                                            </div>
                                        </div>
                                        <p>Verify that the output is displayed as follows:</p>
                                        <p style="text-align: center;">
                                            <img src="../../Resources/Images/Config/NetAppCMode/ValidateSecurityLoginCreation.png" />
                                        </p>
                                        <p style="color: #000000;">For more information about creating security logins, read the <a href="https://docs.netapp.com/us-en/ontap-cli-9141/security-login-create.html" class="Hyperlink" target="_blank" title="security login create" alt="security login create">security login create</a> article.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
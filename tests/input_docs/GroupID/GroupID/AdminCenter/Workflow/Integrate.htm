<!DOCTYPE html>
<html d1p1:tocPath="Admin Center|Workflows" d1p1:medium="Sb-print" d1p1:InPreviewMode="false" d1p1:PreloadImages="false" d1p1:TargetType="WebHelp2" class="_Skins_Stealthbits_WebsiteSkin" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-runtime-file-type="Default;Topic" xmlns:d1p1="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" d1p1:generated="True" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="generator" content="Adobe RoboHelp 2019" /><title>Integrate with Power Automate</title>
        <link href="../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="complementary" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="Main navigation and search" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../Introduction.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <h1>Integrate with Power Automate</h1>
                                    <p>You can link an identity store in <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span> to Power Automate to achieve the following:</p>
                                    <ul>
                                        <li>
                                            <p><b>Trigger a flow from </b><span style="font-weight: bold;" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span> - To achieve this, you have to link a workflow in an identity store to a Power Automate flow. When the <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span> workflow is triggered, the linked flow is auto triggered.</p>
                                        </li>
                                    </ul>
                                    <h2>Trigger a Flow from Directory Manager <a name="flow"></a></h2>
                                    <p>You can link a workflow in an identity store to a flow. Both system and user-defined workflows can be linked to flows.</p>
                                    <ul>
                                        <li>
                                            <p>As a one-time process, connect your identity store to Microsoft Power Automate .See the <a href="#connect" target="_parent" title="Connect an Identity Store to Power Automate" alt="Connect an Identity Store to Power Automate" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="MCXref xref">Connect an Identity Store to Power Automate</a> topic.</p>
                                        </li>
                                        <li>
                                            <p>Link a workflow to a flow by providing the URL of that flow in the workflow .See the <a href="#link" target="_parent" title="Link an Identity Store Workflow to a Flow" alt="Link an Identity Store Workflow to a Flow" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="MCXref xref">Link an Identity Store Workflow to a Flow</a> topic.</p>
                                        </li>
                                    </ul>
                                    <p>Consequently, when the identity store workflow is triggered, the linked flow is auto triggered.</p>
                                    <p class="Note-1" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" data-mc-autonum="NOTE: "><span class="autonumber"><span class="Note-1">NOTE: </span></span>When the flow is approved in Power Automate, the identity store workflow request is auto approved. However, if the identity store workflow request is approved first, the flow would not be auto approved.</p>
                                    <h3>Connect an Identity Store to Power Automate<a name="connect"></a></h3>
                                    <p>To connect an identity tore to Power Automate, you must configure a Power Automate client for that identity store. This will establish a communication channel between the <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span> Data service and the Power Automate platform.</p>
                                    <p class="Note-1" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" data-mc-autonum="NOTE: "><span class="autonumber"><span class="Note-1">NOTE: </span></span>Make sure the <span class="mc-variable GroupID.Product variable">Directory Manager</span> server is deployed on a machine that is exposed over the Internet, as Power Automate needs to communicate with the <span class="mc-variable GroupID.Product variable">Directory Manager</span> server for processing requests. Power Automate cannot communicate with a server deployed on a machine behind NAT.</p>
                                    <p><b>To configure a Power Automate client for an identity store:</b>
                                    </p>
                                    <ol>
                                        <li value="1">
                                            <p>In Admin Center, click <b>Identity Stores</b> in the left pane.</p>
                                        </li>
                                        <li value="2">
                                            <p>On the <b>Identity Stores</b> page, click the ellipsis button for an identity store and select <b>Edit</b>.</p>
                                        </li>
                                        <li value="3">
                                            <p>Click <b>Workflows</b> under <b>Settings</b> in the left pane.</p>
                                        </li>
                                        <li value="4">
                                            <p>On the <b>Workflows</b> page, click the <b>Advanced Workflow Settings</b> tab.</p>
                                        </li>
                                        <li value="5">
                                            <p>In the<b> Power Automate Settings</b> section, click <b>Register Client</b>.</p>
                                        </li>
                                        <li value="6">
                                            <p>Enter the following information:</p>
                                            <ul>
                                                <li>
                                                    <p><b>Organization Code</b> - the unique name for the environment that stores your flows in Power Automate.</p>
                                                </li>
                                                <li>
                                                    <p><b>Region</b> - the location of your environment.</p>
                                                </li>
                                                <li>
                                                    <p><b><span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span> Data Service URL</b> - the URL of the Data service. Requests from Power Automate will communicate with the Data service endpoint. The URL is as:<br />https://&lt;GroupID server name&gt;/&lt;Data service name&gt;<br />For example:<br />https://powerautomate-netwrix1.msappproxy.net/groupiddataservice</p>
                                                </li>
                                                <li>
                                                    <p><b>Tenant ID</b> - the tenant ID assigned to the <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span> application when you registered it in <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Azure_portal variable">Microsoft Entra Admin Center</span>.</p>
                                                </li>
                                                <li>
                                                    <p><b>Client ID</b> - the application ID assigned to the <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span> application when you registered it in <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Azure_portal variable">Microsoft Entra Admin Center</span>.</p>
                                                </li>
                                            </ul>
                                            <p class="Note-1" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" data-mc-autonum="NOTE: "><span class="autonumber"><span class="Note-1">NOTE: </span></span>The <span class="mc-variable GroupID.Product variable">Directory Manager</span> application in <span class="mc-variable GroupID.Azure_portal variable">Microsoft Entra Admin Center</span> must have the following permissions for Power Automate:<br /> <img src="../../../Resources/Images/GroupID/AdminCenter/Workflow/PA permissions.png" style="height: auto;width: 40%;" /></p>
                                        </li>
                                        <li value="7">
                                            <p>Click<b> Save</b> on the <b>Advanced Workflow Settings</b> page.</p>
                                        </li>
                                    </ol>
                                    <h3>Link an Identity Store Workflow to a Flow<a name="link"></a></h3>
                                    <p>To link an identity store workflow to a Power Automate flow, generate a flow template from an identity store workflow and provide the URL of the flow in workflow settings. When the workflow is triggered, the linked flow is auto triggered.</p>
                                    <p><b>To link a workflow to a flow:</b>
                                    </p>
                                    <ol>
                                        <li value="1">
                                            <p>In Admin Center, click <b>Identity Stores</b> in the left pane.</p>
                                        </li>
                                        <li value="2">
                                            <p>On the <b>Identity Stores</b> page, click the ellipsis button for an identity store and select <b>Edit</b>.</p>
                                        </li>
                                        <li value="3">
                                            <p>Click <b>Workflows</b> under <b>Settings</b> in the left pane.</p>
                                        </li>
                                        <li value="4">
                                            <p>On the <b>Configure Workflows</b> tab of the <b>Workflows</b> page, click the ellipsis button for a workflow and select <b>Edit</b>.</p>
                                        </li>
                                        <li value="5">
                                            <p>On the <b>Edit Workflow</b> page, click <b>Power Automate Settings</b> in the top right corner.</p>
                                        </li>
                                        <li value="6">
                                            <p><a name="Step6"></a>On the <b>Power Automate Settings</b> dialog box, provide the username and password of a <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Microsoft_Azure variable">Microsoft Entra ID</span> account for managing flows in the Microsoft Power Automate portal. This account must have
        the following permissions on the Entra tenant:</p>
                                            <p style="text-align: center;">
                                                <img src="../../../Resources/Images/GroupID/AdminCenter/Workflow/PA permissions.png" style="height: auto;width: 40%;" />
                                            </p>
                                        </li>
                                        <li value="7">
                                            <p>Click <b>Create Template</b>. <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span> creates a basic flow in Power Automate with the same name as the workflow, and displays the following message:</p>
                                            <p style="text-align: center;">
                                                <img src="../../../Resources/Images/GroupID/AdminCenter/Workflow/PA template message.png" style="height: auto;width: 40%;" />
                                            </p>
                                        </li>
                                        <li value="8">
                                            <p>The next step is to copy the flow URL from Power Automate and provide it here. To copy the URL, do the following:</p>
                                            <ol style="list-style-type: lower-alpha;">
                                                <li value="1">
                                                    <p>Launch Power Automate and navigate to <b>Environments &gt; GroupID application &gt; My Flows</b>. This page displays the flow you created in Power Automate from the <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span> workflow.</p>
                                                </li>
                                                <li value="2">
                                                    <p>Hover the mouse over the flow to display the ellipsis button. Click it and select <b>Edit</b>.</p>
                                                </li>
                                                <li value="3">
                                                    <p>Expand the <b>Connections</b> area.</p>
                                                    <p style="text-align: center;">
                                                        <img src="../../../Resources/Images/GroupID/AdminCenter/Workflow/Connections area.png" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="height: auto;width: 40%;" />
                                                    </p>
                                                </li>
                                                <li value="4">
                                                    <p>Click <b>Approvals</b> in the <b>Connections</b> area. The approver of the <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span> workflow is auto added here. Click <b>Save</b>.</p>
                                                </li>
                                                <li value="5">
                                                    <p>Expand the <b>When a HTTP request is received</b> area and copy the URL displayed for <b>HTTP POST URL</b>.</p>
                                                </li>
                                            </ol>
                                        </li>
                                        <li value="9">
                                            <p>In <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span>, return to the workflow being linked to the flow, and click <b>Configure a Request URL</b> on the <b>Power Automate Settings</b> dialog box.</p>
                                        </li>
                                        <li value="10">
                                            <p>Enter the copied HTTP POST URL in the <b>Request URL </b>box.</p>
                                        </li>
                                        <li value="11">
                                            <p>Click <b>Authenticate</b> and then <b>Save</b>.</p>
                                        </li>
                                        <li value="12">
                                            <p>Click <b>Update Workflow</b> on the <b>Edit Workflow</b> page to save the settings.</p>
                                        </li>
                                        <li value="13">
                                            <p>Click <b>Save </b>on the <b>Workflows</b> page.</p>
                                        </li>
                                        <li value="14">
                                            <p>Next, enable the linked flow in Power Automate. To do so:</p>
                                            <ol style="list-style-type: lower-alpha;">
                                                <li value="1">
                                                    <p>In Power Automate, navigate to <b>Environments &gt; GroupID application &gt; My Flows</b>. This page displays the flow you created in Power Automate from the <span xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="mc-variable GroupID.Product variable">Directory Manager</span> workflow.</p>
                                                </li>
                                                <li value="2">
                                                    <p>Hover the mouse over the flow to display the ellipsis button. Click it and select <b>Turn on</b>.</p>
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
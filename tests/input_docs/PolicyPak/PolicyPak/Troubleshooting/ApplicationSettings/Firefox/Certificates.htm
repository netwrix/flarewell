<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="_Skins_Netwrix_Website" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="[%=System.LinkedTitle%]|Application Manager|[%=System.LinkedTitle%]|PreConfigured AppSets">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Firefox: How do I troubleshoot adding Certificates with Endpoint Policy Manager and Firefox?</title>
        <link href="../../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../Overview.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <h1>Firefox: How do I troubleshoot adding Certificates with Endpoint Policy Manager and Firefox?</h1>
                                    <p>There are various areas you should troubleshoot FIRST with FF and Certificates.</p>
                                    <p>Shortest possible answer to 99% of problems with FF + Certificates:</p>
                                    <ol>
                                        <li value="1">Are you using FF ESR? You must use FF ESR… <a href="https://www.policypak.com/pp-blog/policypak-will-soon-only-support-firefox-esr" target="_blank">Read THIS</a>.</li>
                                        <li value="2">Do you have the LATEST CSE on the endpoint? STOP: Make sure.</li>
                                        <li value="3">Also; couldn't hurt to upgrade your MMC console to latest version.</li>
                                        <li value="4">Are you using the LATEST Firefox pak? STOP: Make sure.</li>
                                        <li value="5">Re-open and re-save the cert as a DER binary; even if you think it is that way already. (See Step 3 in the longer article below.)</li>
                                        <li value="6">Change the file extention from .cer to .der</li>
                                        <li value="7">Ensure your syntax is correct \DCShareFabrikam-CA.cer, 2, ROOT, add And NOT: \DCShareFabrikam-CA.cer, ROOT, 2, add</li>
                                        <li value="8">If you tried CA or ROOT… try the other one.</li>
                                    </ol>
                                    <p>Longer troubleshooting (which you absolutely must go thru before we can do anything more… and you must do these step by step.)</p>
                                    <p class="Step" data-mc-autonum="&lt;b&gt;Step 1 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 1 – </b></span></span>Check the compatibility chart first</p>
                                    <p><a href="../../../Requirements/Support/ApplicationSettings/Firefox/Version.htm" class="MCXref xref" xrefformat="{para}">Firefox: What versions of the Endpoint Policy Manager CSE support managing certificates in what versions of Firefox?</a>
                                    </p>
                                    <p class="Step" data-mc-autonum="&lt;b&gt;Step 2 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 2 – </b></span></span>Watch the <span class="mc-variable PolicyPak.Product_Long_Name variable">Netwrix Endpoint Policy Manager (formerly PolicyPak)</span> and Firefox cert video for a how-to</p>
                                    <p>&#160;</p>
                                    <p class="Step" data-mc-autonum="&lt;b&gt;Step 3 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 3 – </b></span></span>The most common reason certificates fail to import is because they are the WRONG FORMAT.<br /></p>
                                    <p><span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> only imports certificates which are ALREADY in what's called the BINARY DER format.</p>
                                    <p>Full details on how to do this are in the document <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Application Settings Manager – Using the Firefox Pak.PDF Located in the customer portal.</p>
                                    <p>If you are UNSURE if your cert is BINARY DER or not, here's what you can do to ENSURE that it is BINARY DER.</p>
                                    <p>If the CERT is a-ok inside Firefox ALREADY, you can then EXPORT it like this to ensure it is a BINARY DER file.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../../Resources/Images/Troubleshooting/ApplicationSettings/214_1_image002.jpg" />
                                    </p>
                                    <p>When you save, save it as a .DER extension.</p>
                                    <p class="Step" data-mc-autonum="&lt;b&gt;Step 4 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 4 – </b></span></span>Look at the <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> ppSwitched.log file<br /></p>
                                    <p>Look in appdatalocalusernamepolicypakpolicypak application manager inside ppSwitched.log.</p>
                                    <p>Does it appear that <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> is trying at all?</p>
                                    <div class="codeSnippet">
                                        <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>Processing FF: Certificates<br />{Adding certificate C:\ABC.cer to root store. Replace interval: always<br />Adding certificate C:\DEF.cer to ca store. Replace interval: always}</code></pre>
                                        </div>
                                    </div>
                                    <p>If yes, that's good.</p>
                                    <p class="Step" data-mc-autonum="&lt;b&gt;Step 5 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 5 – </b></span></span>Is the <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Firefox Plug in working?</p>
                                    <p>You can also use Firefox's log by being on any page and clicking Ctrl+Shift+J.</p>
                                    <p>In the log below certificates being added to the proper stores. You can also see ERROR CONDITIONS as well which are helpful for troubleshooting.</p>
                                    <p style="text-align: center;">
                                        <img alt="" src="../../../../Resources/Images/Troubleshooting/ApplicationSettings/214_2_image007.jpg" />
                                    </p>
                                    <p class="Step" data-mc-autonum="&lt;b&gt;Step 6 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 6 – </b></span></span>Other reasons your cert just isn't working</p>
                                    <ul>
                                        <li>The certificate is not designed to work in the store of your choice. For instance, you've selected an email certificate and tried to use it in the ROOT or CA store. Self signed certs are best in the ROOT store, and not the CA store.</li>
                                        <li>You have misspelled the name of the file. For instance, the file is really named \serversharefile123.cer but you specified \serversharefile123 or \serversharefile123.x509 or \serversharefile1.DER ?</li>
                                        <li>When specifying a certificate and the number of days that <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> should check for updates, you transpose the values. The correct way to specify a cert and check every, say, 2 days is\DCShareFabrikam-CA.cer, 2, CA, add<br />And NOT:<br />	\DCShareFabrikam-CA.cer, CA, 2, add<br />	In the logs, you would see this transposition error demonstrated as:</li>
                                    </ul>
                                    <p style="text-align: center;">
                                        <img alt="" src="../../../../Resources/Images/Troubleshooting/ApplicationSettings/214_3_image008.jpg" />
                                    </p>
                                    <p class="Step" data-mc-autonum="&lt;b&gt;Step 7 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 7 – </b></span></span>Send us your cert, and we'll send you ours.</p>
                                    <p>We can try to see if YOUR CERT works in OUR environment.<br />We can also send you OUR TEST CERT and see if it works in YOURs.</p>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
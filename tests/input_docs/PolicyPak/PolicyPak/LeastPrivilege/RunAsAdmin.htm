<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="_Skins_Netwrix_Website" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="[%=System.LinkedTitle%]|Least Privilege Manager|[%=System.LinkedTitle%]|Tips (How does PPLPM work?)">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>How can I change the behavior of "Run as Admin" with Endpoint Privilege Manager and how has it changed from previous versions?</title>
        <link href="../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Overview.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <h1>How can I change the behavior of "Run as Admin" with Endpoint Privilege Manager and how has it changed from previous versions?</h1>
                                    <p>In 2022, <span class="mc-variable PolicyPak.Product_Long_Name variable">Netwrix Endpoint Policy Manager (formerly PolicyPak)</span> introduced a new feature that enables users to elevate the native printers’ dialog, known as elevating NTPRINT.EXE, and also the native Windows Settings control (SystemSettingsAdminFlows.exe). You can review examples of these changes in these two videos:</p>
                                    <p><a href="../Video/LeastPrivilege/NTPrintDialog.html" target="_blank" title="Endpoint Privilege Manager: Install Printers via Native NTPRINT Dialog" alt="Endpoint Privilege Manager: Install Printers via Native NTPRINT Dialog" class="MCXref xref">Endpoint Privilege Manager: Install Printers via Native NTPRINT Dialog</a>
                                    </p>
                                    <p><a href="../Video/LeastPrivilege/WinGUI.html" target="_blank" title="Endpoint Privilege Manager: Edit IP SETTINGS EDIT VIA WIN GUI" alt="Endpoint Privilege Manager: Edit IP SETTINGS EDIT VIA WIN GUI" class="MCXref xref">Endpoint Privilege Manager: Edit IP SETTINGS EDIT VIA WIN GUI</a>
                                    </p>
                                    <p>When we added this functionality, we also had to also change the behavior for any explicit elevation request normally handled by <b>Run As Administrator</b> requests.</p>
                                    <p>Starting in <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> CSE 3425, you can modify the Run As Administrator behavior depending on the goal you would like to accomplish. You can use  <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> ADMX settings to control it. Use this reference to get familiar with the <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> ADMX first: <a href="../Video/Troubleshooting/ADMXFiles.html" target="_blank" title="Troubleshooting with ADMX files" alt="Troubleshooting with ADMX files" class="MCXref xref">Troubleshooting with ADMX files</a></p>
                                    <p style="text-align: center;">
                                        <img alt="" src="../../Resources/Images/LeastPrivilege/862_1_image-20230228200619-1_950x319.png" style="width: 950;height: 319;" />
                                    </p>
                                    <p class="Note-1" data-mc-autonum="&lt;b&gt;NOTE: &lt;/b&gt;"><span class="autonumber"><span class="Note"><b>NOTE: </b></span></span>These ADMX settings are also built into <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Cloud and you're welcome to use those as well.&#160; The policy screen shots below in this article&#160;were all taken from <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Cloud.</p>
                                    <p style="text-align: center;">
                                        <img src="../../Resources/Images/LeastPrivilege/1243_2_232bf02612716c9cb1420ae8801dbfd2.png" />
                                    </p>
                                    <p style="text-align: center;">
                                        <img src="../../Resources/Images/LeastPrivilege/1243_3_850e299116b6ef01db03df49923a61df.png" />
                                    </p>
                                    <p>The corresponding Registry&#160;location for this setting is:&#160;</p>
                                    <p class="Command-Line">HKLM\SOFTWARE\Policies\PolicyPak\Client-Side Extensions\{58DE0268-6384-49E0-A333-20EC46654B82}\Explicit Elevate&#160;</p>
                                    <h2>Scenario 1: I want to use the native tools to elevate printers (aka NTPRINT.EXE) and Windows Settings (aka&#160;SystemSettingsAdminFlows.exe)  and I'm not concerned about Run as administrator issues in Start Menu/File Explorer.</h2>
                                    <p>In this case, keep the defaults as-is with <b>Not Configured</b>. You may  also set it to <b>Disabled</b>. Optionally, you can  set it to <b>Enabled + Enable and use the default context menu Run as administrator</b>. All three of these methods will perform default <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> behavior.</p>
                                    <p>Below are examples showing this (using <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Cloud).</p>
                                    <p style="text-align: center;">
                                        <img alt="" height="363" src="../../Resources/Images/LeastPrivilege/862_2_image-20230228200619-2.png" width="606" />
                                    </p>
                                    <p style="text-align: center;">
                                        <img alt="" height="376" src="../../Resources/Images/LeastPrivilege/862_3_image-20230228200619-3.png" width="604" />
                                    </p>
                                    <p style="text-align: center;">OR</p>
                                    <p style="text-align: center;">
                                        <img alt="" height="385" src="../../Resources/Images/LeastPrivilege/862_4_image-20230228200619-4.png" width="602" />
                                    </p>
                                    <p style="text-align: center;">
                                        <img alt="" height="138" src="../../Resources/Images/LeastPrivilege/862_5_image-20230601152059-6.png" width="1008" />
                                    </p>
                                    <h2>Scenario 2: I don't need to use the native tools to elevate printers (aka NTPRINT.EXE) or Windows Settings (aka&#160;SystemSettingsAdminFlows.exe) and I'm having some issues with shortcuts and Run as administrator.</h2>
                                    <p>You might find that the default <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> behavior is interfering with the way your users normally interact with Run as administrator commands. Here’s an example you might encounter (there are others, but this one is easy to see):</p>
                                    <p>When right-clicking an executable and selecting Run as administrator, you receive the following error: “There are no more endpoints available from the endpoint mapper”.</p>
                                    <p style="text-align: center;">
                                        <img alt="" height="164" src="../../Resources/Images/LeastPrivilege/862_6_image-20230228200619-5.png" width="405" />
                                    </p>
                                    <p>If you want to work around this issue, you could specify Configure processing Explicit-Elevation requests for processes: <b>Enabled + Disable intercept Explicit-Elevation</b>.</p>
                                    <p>This will turn off the new Intercept Explicit-Elevation behavior in LPM and revert the Run as administrator to Windows default behavior.  As a result,Run as administrator requests will be handled by Windows OS and not <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span>.</p>
                                    <p style="text-align: center;">
                                        <img alt="" src="../../Resources/Images/LeastPrivilege/862_7_image-20230601150106-3_723x496.png" style="width: 723;height: 496;" />
                                    </p>
                                    <p style="text-align: center;">
                                        <img alt="" height="139" src="../../Resources/Images/LeastPrivilege/862_8_image-20230601145346-1.png" width="999" />
                                    </p>
                                    <p class="Note-1" data-mc-autonum="&lt;b&gt;NOTE: &lt;/b&gt;"><span class="autonumber"><span class="Note"><b>NOTE: </b></span></span>Because this method will ALSO turn off NTPRINT.EXE elevations, you can still use the legacy Printer elevation method within “<span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Helper Tools” to perform Printer operations in this mode, because it doesn’t rely on the updated functionality to perform elevation directly upon NTPRINT.EXE. To see the <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Helper Tools in action to add printers, please refer to these videos: Least Privilege Manager &gt; <a href="Overview/VideoLearningCenter.htm" target="_parent" title="Video Learning Center" alt="Video Learning Center" class="MCXref xref">Video Learning Center</a>.</p>
                                    <h2>Scenario 3: I want to use the native tools to elevate printers (aka NTPRINT.EXE) AND&#160;Windows Settings (aka&#160;SystemSettingsAdminFlows.exe) and  I also sometimes need to perform Run as administrator operations.</h2>
                                    <p>In this case, use <b>Enabled + Enable and use alternative context menu "Run as administrator with Netwrix PolicyPak"</b>.</p>
                                    <p style="text-align: center;">
                                        <img alt="" src="../../Resources/Images/LeastPrivilege/862_9_image-20230601150335-4_723x495.png" style="width: 723;height: 495;" />
                                    </p>
                                    <p style="text-align: center;">
                                        <img alt="" height="141" src="../../Resources/Images/LeastPrivilege/862_10_image-20230601151700-5.png" width="1034" />
                                    </p>
                                    <p>This will allow you  to elevate NTPRINT.EXE operations.  However, when a user selects the original Run as administrator menu option, it will be intercepted by  <span class="mc-variable PolicyPak.Least_Privilege_Manager_Long_Name variable">Endpoint Policy Manager (formerly PolicyPak) Least Privilege Manager</span>.</p>
                                    <p>As a workaround,  users will see, and should use, <b>Run as administrator with Netwrix PolicyPak</b> menu to ensure UAC works.</p>
                                    <p>Here’s an example when this option is selected:</p>
                                    <p style="text-align: center;">
                                        <img alt="" src="../../Resources/Images/LeastPrivilege/862_11_image-20230228200619-6_950x146.png" style="width: 950;height: 146;" />
                                    </p>
                                    <p>Now users can perform the same Run as administrator type of operation, but they will need to use the <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span>-supplied Run as administrator with Netwrix PolicyPak.</p>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
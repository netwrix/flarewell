<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="_Skins_Netwrix_Website" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="[%=System.LinkedTitle%]|Device Manager|[%=System.LinkedTitle%]|Methods: Cloud, MDM and SCCM">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Block and Allow USB and CD-ROMs with your MDM solution</title>
        <link href="../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../Overview.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <h1>Block and Allow USB and CD-ROMs with your MDM solution</h1>
                                    <p>Got Intune or another MDM service, and users plugging in USB sticks... walking out the door with data, or worse, introducing malware? Specify exactly WHO can use WHAT USB sticks ... so you don't have to fight fires everywhere around data and ransomware.</p>
                                    <p><iframe width="1678" height="943" src="https://www.youtube.com/embed/JR3r_i7scrg" title="Endpoint Policy Device Manager: Block and Allow USB and CD-ROMs with your MDM solution" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="1"></iframe>
                                    </p>
                                    <p>Hi, this is Jeremy Moskowitz. In this video, I'm going to show you how you can use <span class="mc-variable PolicyPak.Product_Long_Name variable">Netwrix Endpoint Policy Manager (formerly PolicyPak)</span> Device Manager to enable and restrict USB sticks using your MDM service and <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span>. How do you do that? This machine is MDM enrolled. You could be enrolled into Intune or into Workspace ONE or to Citrix, whatever you want. </p>
                                    <p>This is a good USB stick, one that I am sanctioning and allowing. For instance, maybe you want the style that <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> can deliver, which is enable specific users to use specifically sanctioned device types. For instance, if this device was always encrypted, you can sanction this device type. You could say a particular user with a particular device and serial number. I've shown that in previous videos. This is particularly just how to use it with MDM.</p>
                                    <p>First things first is that you may want to get that USB stick in hand, and then you can see in Device Manager if you were to go to Properties here, what you'll do is you'll go to details and go to the device instance path. Device instance path has the vendor and the particular model and also the serial number embedded into it. What we'll do is we'll copy this. Let's go over to our MMC management station. This is my Azure and my Intune, which I'll get to in just a moment.</p>
                                    <p>Here is where I'm going to take that string and paste it in. Here's where I need the vendor ID, that's after the VEN_. I need that guy. Then I need the product ID, which is after PROD_. I'll go ahead and take that right there. There's the revision also. I'm not going to worry about that. I'm going to say any revision because I know that this particular USB stick is always encrypted.</p>
                                    <p>What I'll do is then I'll go into my management station here. Using a group policy object just for the sake of editing purposes, let me go ahead and create a new global settings policy here. I like raising the number of impressions for bad USB sticks, so I'm going to raise that up pretty high. Then I'm going to leave the rest the same, show notifications for new devices and policy changes and so on.</p>
                                    <p>If you want to change the default messages with customized messages, you can do that too. I'm not going to worry about that now. That's the first thing, just turning it on. That puts the smack down on all USB sticks. </p>
                                    <p>Then I'm going to set a policy to open it up to something specific. I want to allow users to use specific devices. What am I going to do? I'm going to take that vendor ID that I got earlier; that's JETFLASH. I'll go ahead and copy and paste that in.</p>
                                    <p>The product ID that we got earlier, that's TRANSCEND_32GB, this always encrypted drive by way of example. Then I'm going to keep the product revision just like this. If you wanted to also use serial numbers, that's fine. You would paste that entire string in. I'm not going to demo that here.</p>
                                    <p>Then here is where you need to add a member by SID. How do you get the SID of a guy in Azure Active Directory? Well, we have an article on that. For instance, here is the article, which is called <i>How Do I Get Azure SIDs and Use Them with Item Level Targeting?</i> This only works for individual users. This will not work at a group level. </p>
                                    <p>There is no such thing as an Azure group SID. There is such a thing as an Azure user SID, and you have to be able to get it. The easiest way to do it is to be logged onto the guy and get whoami/user and you can get that information. You can also do some additional magic, if you want to, with this PowerShell script, which can take an Azure ID and convert it over. The PowerShell is in there somewhere. That's an advanced technique.</p>
                                    <p>What I'm going to do is just do the simple one here and go to whoami/all, get the guy's SID here. I'm going to take this SID from Azure. Whoops, I didn't get it. Do it again. Get it from Azure. There we go.</p>
                                    <p>Then what I'm going to do is go back to my item here, add member by SID. The name doesn't matter. You can call them Fred Flintstone. It doesn't matter. Then that's the guy's SID. That's what matters.</p>
                                    <p>What I'm going to say is let this person have read access. Once I go ahead and click OK here, click Next, and that's it. We're done. We've done what we need to do. </p>
                                    <p>The next thing is to right-click export this policy as XML here. I'm going to export collections as XML. I'm then going to create a new folder here called EXP3. I'll call this PPDM-EXPORT1. Now that I've got it exported, the next step is to use our <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> exporter tool.</p>
                                    <p>The exporter tool is automatically installed when you install the MMC snap-in. Let's go ahead and create a new MSI installer. We'll add an existing file here. We'll then pick our EXP3, our exporter. There it is, device manager on the computer side.</p>
                                    <p>It's got all the things we said, the global policy and the unique individual policy there as well. We'll go ahead and call this PPDM123. We are done. I'll go ahead and call it PPDM123MSI.</p>
                                    <p>Now that that's done, let's go into Intune. Now remember, in order to make this go, there's three things that need to happen. The license files need to be delivered, the client-side extension needs to be delivered, and now what we're going to do is we're going to add in this application, which is a line of business app. We'll go ahead and click Select here. Select our app package file from the desktop that we created earlier. That's on desktop EXP3. There's our MSI.</p>
                                    <p>This is on the device side, very good. Go ahead and click Next. We need to give it a name. We'll call this PP Company1. Any other things we need to do? No.</p>
                                    <p>Now what we'll do is we're going to add this to â€“ I'm just going to keep this simple and add it to all devices. You can target it based upon device group. That's totally fine. Go ahead and click Next and go ahead and click Create.</p>
                                    <p>I've locked and loaded this in. If I go back to apps, remember the three things that need to make it go. Let me go back to Windows apps here. The three things that need to make it go are the license file, the client-side extension, and the final upload, here we are, of our settings. That's automatically getting refreshed as we speak.</p>
                                    <p>With that in mind, we'll go back over to our machine. We'll go ahead and click here, and we'll go to info. Let's give this the little synchronize that we need to make this work. Now that this is done, remember, this can take a variable amount of time, depending on how fast or slow your MDM service wants to go. Let's go ahead and close all this out.</p>
                                    <p>I'm going to take out the good USB stick. Let's put in an evil USB stick and see what happens. There we go. It's being managed by <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Device Manager. Read, write, and execute, no. Why is that? It's different than what we said. This person can't do a thing.</p>
                                    <p>If we were to go over here and take a look what's on this interesting USB stick, we don't know. There's all sorts of weird stuff on here. Let's double-click it and see what happens. You can't do that.</p>
                                    <p>Let's try to copy this configuration file over to the desktop. No, we can't do that. If we were to try to copy something in, we can't do that. We've blocked it. We've blocked that USB stick.</p>
                                    <p>Let's go ahead and put in the good USB stick, the one that meets the correct vendor criteria. There we go. We can see that we are being managed. We've got read access, which is exactly what we said we wanted. If we were to try to read something off of here, we'll go ahead and double-click this guy. What happens? You've got read access, so you're good to go.</p>
                                    <p>If you try to write something from the desktop over to this USB stick, you've blocked it. This is not something that you can do inside of Intune or other MDM services. This is an add-on superpower only available to you with <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span>. There you go. I hope this helps you out. Looking forward to getting you started with <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> and your MDM service real soon. Thanks so much.</p>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
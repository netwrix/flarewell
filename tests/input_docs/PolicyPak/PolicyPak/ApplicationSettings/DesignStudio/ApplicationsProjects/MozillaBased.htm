<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" class="_Skins_Netwrix_Website" lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="[%=System.LinkedTitle%]|Apps, Browsers, &amp; Java Security Pak|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Mozilla-Based Applications</title>
        <link href="../../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../Overview.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <h1>Mozilla-Based Applications</h1>
                                    <p>Mozilla-based applications are different than all other project types. All Mozilla-based applications have the following characteristics in common:</p>
                                    <ul>
                                        <li>
                                            <p>They store configuration data in one (or two) files:<code> prefs.js </code>and <code>user.js </code></p>
                                        </li>
                                        <li>
                                            <p>Those data files are stored within a randomly generated folder name in <code>%appdata%\&lt;application directory&gt;\Profiles</code></p>
                                        </li>
                                        <li>
                                            <p>That folder name is pointed to by the file named profiles.ini which lives in <code>%appdata%\&lt;application directory&gt;</code></p>
                                        </li>
                                    </ul>
                                    <p>For instance, on this computer with Firefox installed (Figure 205), we can open the <code>%appdata%\Mozilla\FireFox\ folder</code>, open the Profiles.ini file, and learn that this specific machine will store user <code>settings within \Profiles\edk2qe8w.default</code>.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../../Resources/Images/Appendix B - PolicyPak Application Manager DesignStudio Guide/Special Applications and Project_5.png" />
                                    </p>
                                    <p>Figure 205. The location where using settings will be stored.</p>
                                    <p>Every machine on your network will have a storage location, meaning Firefox (or Thunderbird, Seamonkey, or Evergreen profiles) is stored in a unique directory on each computer. You can see in Figure 206 the random directory name, and inside it, the<code> prefs.js</code> file, which defines the Firefox settings.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../../Resources/Images/Appendix B - PolicyPak Application Manager DesignStudio Guide/Special Applications and Project_6.png" />
                                    </p>
                                    <p>Figure 206. The <code>prefs.js</code> file location.</p>
                                    <p>The good news is <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> DesignStudio and the <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Application Settings Manager CSE can handle this problem. <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Application Settings Manager can deliver Firefox settings (or Thunderbird, Seamonkey, or any Mozilla-based application's settings) to that unique directory, regardless of where it lives. To do this, we have to understand the following three files:</p>
                                    <ul>
                                        <li>
                                            <p><code>profile.ini</code>: This file lives within the Mozilla application name. It points to the random directory where the user data is to be stored.</p>
                                        </li>
                                        <li>
                                            <p><code>prefs.js</code>: This is the baseline configuration for an application and is usually auto-populated by the application.</p>
                                        </li>
                                        <li>
                                            <p><code>user.js</code>: This file is not normally present. If it is present, the settings here override the<code> prefs.js</code> settings. This is to be stored in the same directory as <code>prefs.js </code>and takes the same form as <code>prefs.js</code>.</p>
                                        </li>
                                    </ul>
                                    <p>To control Mozilla-based applications using <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Application Settings Manager and <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> DesignStudio, we only need to teach DesignStudio where the profiles.ini file lives. This file is not the file that contains our user settings. This is the file that points us to where the user settings (<code>prefs.js</code>) are stored (see Figure 207).</p>
                                    <p style="text-align: center;">
                                        <img src="../../../../Resources/Images/Appendix B - PolicyPak Application Manager DesignStudio Guide/Special Applications and Project_7.png" />
                                    </p>
                                    <p>Figure 207. The <code>profiles.ini </code>file.</p>
                                    <p>In <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> DesignStudio, for all other file-based project types (INI, XML, .properties, .js-type, etc.), you can select the specific file you want to manage. But with Mozilla project type files, you must always point to the profiles.ini file of the Mozilla application. For example, with Firefox, you will likely want to specify what's shown in Figure 208. This is because the <code>profiles.ini</code> file for Firefox lives in <code>%appdata%\Mozilla\Firefox</code>.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../../Resources/Images/Appendix B - PolicyPak Application Manager DesignStudio Guide/Special Applications and Project_8.png" />
                                    </p>
                                    <p>Figure 208. Pointing to the profiles.ini file location.</p>
                                    <p>Note also that the "Application name (optional)" field is filled in as "Mozilla Firefox." The "Application name (optional)" field is different than the project name. "Project name" is the <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Application Settings Manager "displayname." This is what's shown in the MMC when you indicate you want to use a new AppSet.</p>
                                    <p> The "Application name (optional)" field is what is used to perform the Firefox-style UI lockout. <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Application Settings Manager looks in the MSI installed table for a match like <code>*{string}*</code>. Therefore, its best to make the "Application name (optional)" field text more generic. </p>
                                    <p>So, in the example in Figure 209, it is specified as "Mozilla Firefox," which will be generic enough to cover all versions of Mozilla Firefox. </p>
                                    <p>A common mistake is to add a string in this field that is too specific. For instance, putting "Mozilla Firefox 23.0" in this field means that this AppSet's Firefox-specific lockdown features will apply only when a product matching *Mozilla Firefox 23.0* is found on the machine. </p>
                                    <p>This same idea applies to Thunderbird, Chatzilla, and all other Firefox-type applications. For Thunderbird, the right data file location is <code>%appdata%\Thunderbird\profiles.ini</code>, as shown in Figure 209. This is because the Thunderbird profiles.ini file lives in <code>%appdata%\Thunderbird</code>. (Note that </p>
                                    <p>Thunderbird does not contain a "Mozilla" subdirectory like Firefox). Note also that the "Application name (optional)" field should be generic enough for all version of Mozilla Thunderbird.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../../Resources/Images/Appendix B - PolicyPak Application Manager DesignStudio Guide/Special Applications and Project_9.png" />
                                    </p>
                                    <p>Figure 209. Filling in the "Application name" field for Mozilla Thunderbird.</p>
                                    <p>For Sunbird, the location is <code>%appdata%\Mozilla\Sunbird\profiles.ini</code>, as shown in Figure 210. This is because the Sunbird profiles.ini file lives in <code>%appdata%\Mozilla\Sunbird</code> (similar to Firefox). The "Application name (optional)" field should be "Mozilla Sunbird" (not shown in this screenshot).</p>
                                    <p style="text-align: center;">
                                        <img src="../../../../Resources/Images/Appendix B - PolicyPak Application Manager DesignStudio Guide/Special Applications and Project_10.png" />
                                    </p>
                                    <p>Figure 210. The location of the Sunbird <code>profiles.ini</code> file.</p>
                                    <p class="Note-1" data-mc-autonum="&lt;b&gt;NOTE: &lt;/b&gt;"><span class="autonumber"><span class="Note"><b>NOTE: </b></span></span> Evergreen is a popular system for managing libraries. This application has been verified to be a Mozilla-style application and has a <code>profiles.ini</code> file that you would point to.</p>
                                    <p>Once <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> DesignStudio is pointing toward the profiles.ini file (and not the<code> prefs.js</code> file), we are ready to perform our normal work in <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> DesignStudio. <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> DesignStudio will use the <code>prefs.js</code> file on the machine you perform the work on. </p>
                                    <p>Once the AppSet is done and compiled, it's ready for use. However, when the Mozilla-based application's AppSet is deployed to the target machine, the target machine's<code> prefs.js</code> is not modified. Instead, <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Application Settings Manager will create a new file (or modify an existing file), named <code>user.js</code>. The file <code>user.js</code> will contain your Mozilla-based application's settings, and will not modify the existing <code>prefs.js</code>. </p>
                                    <p>For example, before a Mozilla-based AppSet is written to a machine, the application's folder will usually only have a <code>prefs.js</code> file describing the user experience, as shown in Figure 211.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../../Resources/Images/Appendix B - PolicyPak Application Manager DesignStudio Guide/Special Applications and Project_11.png" />
                                    </p>
                                    <p>Figure 211. The <code>prefs.js</code> file.</p>
                                    <p>After the AppSet successfully applies, <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Application Settings Manager will write a new file, <code>user.js</code>, instead of changing the <code>prefs.js</code> file directly. You can see the new<code> user.js</code> file after the AppSet settings are deployed to Firefox on the machine in Figure 212.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../../Resources/Images/Appendix B - PolicyPak Application Manager DesignStudio Guide/Special Applications and Project_12.png" />
                                    </p>
                                    <p>Figure 212. The <code>user.js </code>file.</p>
                                    <p>Note again that <code>prefs.js</code> is not touched during the delivery of the settings. The Mozilla-based applications will treat <code>user.js</code> as special file that has two very important characteristics:</p>
                                    <ul>
                                        <li>
                                            <p>If there is a conflict between the <code>prefs.js</code> and the <code>user.js</code>, <code>user.js</code> wins. </p>
                                        </li>
                                        <li>
                                            <p>If there is a setting defined in <code>user.js</code>, and a user modifies any preference dialogs within the Mozilla-based application, they will be overwritten by the <code>user.js</code> setting.</p>
                                        </li>
                                    </ul>
                                    <p>This is perfect for <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Application Settings Manager because you can define the settings using Group Policy. Those settings are always written to <code>user.js</code> by <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Application Settings Manager.</p>
                                    <p> If a user makes any configuration changes to Firefox, Thunderbird, etc., those changes are thrown out if the setting is defined within <code>user.js</code>. For instance, if you use <span class="mc-variable PolicyPak.Product_Short_Name variable">Endpoint Policy Manager</span> Application Settings Manager to define the Firefox home page, and the user changes the home page inside Firefox, those changes are thrown away for next time.</p>
                                    <p>For more information on <code>user.js</code> files you can check out the following web article: <code>http://kb.mozillazine.org/User.js_file</code></p>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
<!DOCTYPE html>
<html class="_Skins_CSH_NPR_Skin" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="print" data-mc-toc-path="[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Agent Credential Rotation</title>
        <link href="../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../Overview.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <h1>Agent Credential Rotation</h1>
                                    <p>There are two ways to change the credentials that agents use to authenticate with the Hub. If it is suspected that agents have been compromised, it is recommended to take the out of band process described in this document. </p>
                                    <p>If authentication details are being rotated as part of a routine process, then the in band alternative is to set all agents to use new credentials from within the Hub's web console. See the <a href="AgentConfiguration.htm" target="_parent" title="Agent Configuration" alt="Agent Configuration" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="MCXref xref">Agent Configuration</a> topic for additional information.</p>
                                    <p>The scripts at the bottom of this page can be used to update authentication details on devices. These scripts can be rolled out to all devices with an IT automation system. These scripts stop the agent, set the new authentication details in the agent's configuration file, and then restart the agent, which on start-up will encrypt the password. An encrypted password with have E1 tags in the configuration file.</p>
                                    <h2>The Agent Account</h2>
                                    <p>During installation of the Hub, an account named <b xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Agent</b> is created with just the Agent role. This role enables agents to use this account to authenticate with the Hub. As the agent account has no other roles, it can only be used by agents to authenticate. </p>
                                    <h3>Rotate Agent Credentials</h3>
                                    <p>The existing agent account can be seen in the Users section of the Hub.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../Resources/Images/ChangeTracker/Admin/Settings/AgentConfig/AgentAccountManagement.png" />
                                    </p>
                                    <p class="Caution" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" data-mc-autonum="&lt;span style=&quot;color: #da0000;&quot; class=&quot;mcFormatColor&quot;&gt;&lt;b&gt;CAUTION: &lt;/b&gt;&lt;/span&gt;"><span class="autonumber"><span class="Caution"><span style="color: #da0000;" class="mcFormatColor"><b>CAUTION: </b></span></span></span>Changing the password of an account used by agents to authenticate will cause the agents to go offline as they will be attempting to authenticate with the old password.</p>
                                    <p class="Recommended-1" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" data-mc-autonum="&lt;span style=&quot;color: #fb8000;&quot; class=&quot;mcFormatColor&quot;&gt;&lt;b&gt;&lt;i&gt;RECOMMENDED: &lt;/i&gt;&lt;/b&gt;&lt;/span&gt;"><span class="autonumber"><span class="Recommended"><span style="color: #fb8000;" class="mcFormatColor"><b><i>RECOMMENDED: </i></b></span></span></span>For a smooth transition, it is recommended to create a new account with just the <b>Agent</b> role. This account will have a different user name and password. Once created, the agent's configuration can be updated to use the new account. When all agents have been migrated, the old agent account can be removed.</p>
                                    <p>Follow the steps to create the new agent account. </p>
                                    <p class="Step-Reset" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" data-mc-autonum="&lt;b&gt;Step 1 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 1 – </b></span></span>Click <b>Create New User</b>, give it a user name and just the Agent role. </p>
                                    <p style="text-align: center;" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
                                        <img src="../../../Resources/Images/ChangeTracker/Admin/Settings/AgentConfig/NewPassword.png" />
                                    </p>
                                    <p class="Step" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" data-mc-autonum="&lt;b&gt;Step 2 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 2 – </b></span></span>Click <b>Update</b>, and the User Password dialog opens with a complex password. This is only shown once. It is recommended that this be saved in  a password management system for future use.</p>
                                    <h2>Agent Authentication Update on Windows</h2>
                                    <p>For Windows devices the <code xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">ChangePasswordOOB.ps1</code> PowerShell script can be used to update the authentication details and restart the agent.</p>
                                    <p>The two variables, <code xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">$newUsername</code> and <code xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">$newPassword</code>, near the top of the script, must be set to match the new agent account.</p>
                                    <p>Running the script will set the new authentication details and restart the agent while producing the output below.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../Resources/Images/ChangeTracker/Admin/Settings/AgentConfig/NewAgentScript_1049x168.png" style="width: 1049;height: 168;" />
                                    </p>
                                    <p class="Bold_Subheading">ChangePasswordOOB.ps1</p>
                                    <div xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="codeSnippet">
                                        <div style="mc-code-lang: PowerShell;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code><span style="color: #969896; "># Define the service name and default config file path</span><br /><span style="font-weight: bold; ">$serviceName</span> = <span style="color: #df5000; ">"Gen7AgentCore"</span><br /><span style="font-weight: bold; ">$configFilePath</span> = <span style="color: #df5000; ">"C:\ProgramData\NNT\gen7agent.app.netcore\HubDetails.xml"</span><br /><span style="color: #969896; "># Set the new password here</span><br /><span style="font-weight: bold; ">$newPassword</span> = <span style="color: #df5000; ">""</span><br /><span style="font-weight: bold; ">$newUsername</span> = <span style="color: #df5000; ">""</span><br /><span style="color: #969896; "># Check if the new password is set</span><br /><span style="color: #a71d5d; font-weight: bold; ">if</span> ([string]::IsNullOrEmpty(<span style="font-weight: bold; ">$newPassword</span>)) {<br />&#160;<span style="color: #a71d5d; font-weight: bold; ">Write-Error</span> <span style="color: #df5000; ">"Please set a new password in the `$newPassword variable"</span> -ErrorAction Stop<br />&#160;<span style="color: #a71d5d; ">return</span><br />}<br /><span style="color: #969896; "># Check if the new username is set</span><br /><span style="color: #a71d5d; font-weight: bold; ">if</span> ([string]::IsNullOrEmpty(<span style="font-weight: bold; ">$newUsername</span>)) {<br />&#160;<span style="color: #a71d5d; font-weight: bold; ">Write-Error</span> <span style="color: #df5000; ">"Please set a new username in the `$newUsername variable"</span> -ErrorAction Stop<br />&#160;<span style="color: #a71d5d; ">return</span><br />}<br /><span style="color: #969896; "># Stop the service if it's running</span><br /><span style="font-weight: bold; ">$service</span> = <span style="color: #a71d5d; font-weight: bold; ">Get-Service</span> -Name <span style="font-weight: bold; ">$serviceName</span> -ErrorAction SilentlyContinue<br /><span style="color: #a71d5d; font-weight: bold; ">if</span> (<span style="font-weight: bold; ">$service</span>.Status <span style="color: #795da3; ">-eq</span> <span style="color: #df5000; ">"Running"</span>) {<br />&#160;<span style="color: #a71d5d; font-weight: bold; ">Write-Host</span> <span style="color: #df5000; ">"Stopping service '$serviceName'..."</span><br />&#160;<span style="color: #a71d5d; font-weight: bold; ">Stop-Service</span> -Name <span style="font-weight: bold; ">$serviceName</span> -Force<br />&#160;<span style="color: #a71d5d; font-weight: bold; ">Write-Host</span> <span style="color: #df5000; ">"Service '$serviceName' stopped successfully."</span><br />} <span style="color: #a71d5d; font-weight: bold; ">else</span> {<br />&#160;<span style="color: #a71d5d; font-weight: bold; ">Write-Host</span> <span style="color: #df5000; ">"Service '$serviceName' is not running or does not exist."</span><br />}<br /><span style="color: #969896; "># Read the contents of the config file</span><br /><span style="font-weight: bold; ">$configContent</span> = <span style="color: #a71d5d; font-weight: bold; ">Get-Content</span> -Path <span style="font-weight: bold; ">$configFilePath</span><br /><span style="color: #969896; "># Replace any &lt;Password&gt;...&lt;/Password&gt; or &lt;Password/&gt; tag with the new password</span><br /><span style="font-weight: bold; ">$configContent</span> = <span style="font-weight: bold; ">$configContent</span> <span style="color: #795da3; ">-replace</span> <span style="color: #df5000; ">"&lt;Password&gt;.*?&lt;/Password&gt;"</span>, <span style="color: #df5000; ">"&lt;Password&gt;$newPassword&lt;/Password&gt;"</span><br /><span style="font-weight: bold; ">$configContent</span> = <span style="font-weight: bold; ">$configContent</span> <span style="color: #795da3; ">-replace</span> <span style="color: #df5000; ">"&lt;Password\s*/&gt;"</span>, <span style="color: #df5000; ">"&lt;Password&gt;$newPassword&lt;/Password&gt;"</span><br /><span style="color: #969896; "># Replace any &lt;Username&gt;...&lt;/Username&gt; or &lt;Username/&gt; tag with the new username</span><br /><span style="font-weight: bold; ">$configContent</span> = <span style="font-weight: bold; ">$configContent</span> <span style="color: #795da3; ">-replace</span> <span style="color: #df5000; ">"&lt;Username&gt;.*?&lt;/Username&gt;"</span>, <span style="color: #df5000; ">"&lt;Username&gt;$newUsername&lt;/Username&gt;"</span><br /><span style="font-weight: bold; ">$configContent</span> = <span style="font-weight: bold; ">$configContent</span> <span style="color: #795da3; ">-replace</span> <span style="color: #df5000; ">"&lt;Username\s*/&gt;"</span>, <span style="color: #df5000; ">"&lt;Username&gt;$newUsername&lt;/Username&gt;"</span><br /><br /><span style="color: #969896; "># Remove all occurrences of the &lt;E1/&gt; tag</span><br /><span style="font-weight: bold; ">$configContent</span> = <span style="font-weight: bold; ">$configContent</span> <span style="color: #795da3; ">-replace</span> <span style="color: #df5000; ">"&lt;E1\s*/&gt;"</span>, <span style="color: #df5000; ">""</span><br /><span style="color: #969896; "># Write the updated content back to the config file</span><br /><span style="font-weight: bold; ">$configContent</span> | <span style="color: #a71d5d; font-weight: bold; ">Set-Content</span> -Path <span style="font-weight: bold; ">$configFilePath</span><br /><span style="color: #a71d5d; font-weight: bold; ">Write-Host</span> <span style="color: #df5000; ">"The username and password have been replaced and &lt;E1/&gt; tag(s) removed successfully."</span><br /><span style="color: #969896; "># Restart the service after the change</span><br /><span style="color: #a71d5d; font-weight: bold; ">Start-Service</span> -Name <span style="font-weight: bold; ">$serviceName</span><br /><span style="color: #a71d5d; font-weight: bold; ">Write-Host</span> <span style="color: #df5000; ">"Service '$serviceName' started successfully."</span></code></pre>
                                        </div>
                                    </div>
                                    <h2>Agent Authentication Update on Linux</h2>
                                    <p>For Linux devices a bash script named <code xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">UpdatePasswordOOB.sh</code> is available to set the authentication details and restart the agent.</p>
                                    <p>The two variables <code xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">newUsername</code> and <code xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">newPassword</code> near the top of the script must be set to match the new agent account.</p>
                                    <p>Running the script will set the password and restart the agent while producing the output below.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../Resources/Images/ChangeTracker/Admin/Settings/AgentConfig/AgentPasswordScript_1028x217.png" style="width: 1028;height: 217;" />
                                    </p>
                                    <p class="Bold_Subheading">UpdatePasswordOOB.sh</p>
                                    <div xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="codeSnippet">
                                        <div style="mc-code-lang: Bash;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code><span style="color: #969896; ">#!/bin/bash</span><br /><span style="color: #969896; "># Define the service name and default config file path</span><br />SERVICE_NAME=<span style="color: #df5000; ">"nntgen7agentcore"</span><br />CONFIG_FILE_PATH=<span style="color: #df5000; ">"/etc/NNT/gen7agent.app.netcore/HubDetails.xml"</span><br /><span style="color: #969896; "># Set the new password here</span><br />newPassword=<span style="color: #df5000; ">""</span><br />newUsername=<span style="color: #df5000; ">""</span><br /><span style="color: #969896; "># Check if the new password is set</span><br /><span style="color: #a71d5d; ">if</span> [ -z <span style="color: #df5000; ">"<span style="color: #8f3300; ">$newPassword</span>"</span> ]; <span style="color: #a71d5d; ">then</span><br />&#160;<span style="color: #0086b3; ">echo</span> <span style="color: #df5000; ">"Error: Please set a new password in the 'newPassword' variable."</span><br />&#160;<span style="color: #0086b3; ">exit</span> 1<br /><span style="color: #a71d5d; ">fi</span><br /><span style="color: #969896; "># Check if the new username is set</span><br /><span style="color: #a71d5d; ">if</span> [ -z <span style="color: #df5000; ">"<span style="color: #8f3300; ">$newUsername</span>"</span> ]; <span style="color: #a71d5d; ">then</span><br />&#160;<span style="color: #0086b3; ">echo</span> <span style="color: #df5000; ">"Error: Please set a new username in the 'newUsername' variable."</span><br />&#160;<span style="color: #0086b3; ">exit</span> 1<br /><span style="color: #a71d5d; ">fi</span><br /><span style="color: #969896; "># Stop the service if it's running</span><br /><span style="color: #a71d5d; ">if</span> systemctl is-active --quiet <span style="color: #8f3300; ">$SERVICE_NAME</span>; <span style="color: #a71d5d; ">then</span><br />&#160;<span style="color: #0086b3; ">echo</span> <span style="color: #df5000; ">"Stopping service '<span style="color: #8f3300; ">$SERVICE_NAME</span>'..."</span><br />&#160;systemctl stop <span style="color: #8f3300; ">$SERVICE_NAME</span><br />&#160;<span style="color: #0086b3; ">echo</span> <span style="color: #df5000; ">"Service '<span style="color: #8f3300; ">$SERVICE_NAME</span>' stopped successfully."</span><br /><span style="color: #a71d5d; ">else</span><br />&#160;<span style="color: #0086b3; ">echo</span> <span style="color: #df5000; ">"Service '<span style="color: #8f3300; ">$SERVICE_NAME</span>' is not running or does not exist."</span><br /><span style="color: #a71d5d; ">fi</span><br /><span style="color: #969896; "># Check if the config file exists</span><br /><span style="color: #a71d5d; ">if</span> [ ! -f <span style="color: #df5000; ">"<span style="color: #8f3300; ">$CONFIG_FILE_PATH</span>"</span> ]; <span style="color: #a71d5d; ">then</span><br />&#160;<span style="color: #0086b3; ">echo</span> <span style="color: #df5000; ">"Error: Config file not found at <span style="color: #8f3300; ">$CONFIG_FILE_PATH</span>"</span><br />&#160;<span style="color: #0086b3; ">exit</span> 1<br /><span style="color: #a71d5d; ">fi</span><br /><span style="color: #969896; "># Replace any &lt;Password&gt;...&lt;/Password&gt; or &lt;Password/&gt; tag with the new password</span><br />sed -i <span style="color: #df5000; ">"s|&lt;Password&gt;.*&lt;/Password&gt;|&lt;Password&gt;<span style="color: #8f3300; ">$newPassword</span>&lt;/Password&gt;|g"</span> <span style="color: #df5000; ">"<span style="color: #8f3300; ">$CONFIG_FILE_PATH</span>"</span><br />sed -i <span style="color: #df5000; ">"s|&lt;Password\s*/&gt;|&lt;Password&gt;<span style="color: #8f3300; ">$newPassword</span>&lt;/Password&gt;|g"</span> <span style="color: #df5000; ">"<span style="color: #8f3300; ">$CONFIG_FILE_PATH</span>"</span><br /><span style="color: #969896; "># Replace any &lt;Username&gt;...&lt;/Username&gt; or &lt;Username/&gt; tag with the new password</span><br />sed -i <span style="color: #df5000; ">"s|&lt;Username&gt;.*&lt;/Username&gt;|&lt;Username&gt;<span style="color: #8f3300; ">$newUsername</span>&lt;/Username&gt;|g"</span> <span style="color: #df5000; ">"<span style="color: #8f3300; ">$CONFIG_FILE_PATH</span>"</span><br />sed -i <span style="color: #df5000; ">"s|&lt;Username\s*/&gt;|&lt;Username&gt;<span style="color: #8f3300; ">$newUsername</span>&lt;/Username&gt;|g"</span> <span style="color: #df5000; ">"<span style="color: #8f3300; ">$CONFIG_FILE_PATH</span>"</span><br /><br /><span style="color: #969896; "># Remove all occurrences of the &lt;E1/&gt; tag</span><br />sed -i <span style="color: #df5000; ">"s|&lt;E1\s*/&gt;||g"</span> <span style="color: #df5000; ">"<span style="color: #8f3300; ">$CONFIG_FILE_PATH</span>"</span><br /><span style="color: #0086b3; ">echo</span> <span style="color: #df5000; ">"The username and password have been replaced and &lt;E1/&gt; tag(s) removed successfully."</span><br /><span style="color: #969896; "># Restart the service after the change</span><br />systemctl start <span style="color: #8f3300; ">$SERVICE_NAME</span><br /><span style="color: #0086b3; ">echo</span> <span style="color: #df5000; ">"Service '<span style="color: #8f3300; ">$SERVICE_NAME</span>' started successfully."</span><br /><br /></code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
<!DOCTYPE html>
<html lang="en-us" class="js csstransforms3d _Skins_HTML5___Side_Navigation" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Home Page|Integration Guide|Role Assignment">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>
              
              Configure Indirect Permissions 
              </title>
        <link href="../../../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body class="" data-url="../../../../integration-guide/role-assignment/how-tos/configureindirectpermissions/">
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../../index.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <section id="body">
                                        <div id="body-inner">
                                            <h1>
                                                <div>
              
              Configure Indirect Permissions 
              </div>
                                            </h1>
                                            <p>The following how-to assumes that you have already read the topic on <a href="../../indirectpermissions/index.html" target="_parent" title="Indirect Permissions" alt="Indirect Permissions" class="MCXref xref">
              
              Indirect Permissions
              </a>.</p>
                                            <h2 id="configure-indirect-permissions-in-an-active-directory">Configure Indirect Permissions in an Active Directory</h2>
                                            <h3 id="configure-an-indirect-resource-rule">Configure an indirect resource rule</h3>
                                            <p>Configuring an Indirect Resource Rule in the <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span> Configuration is the only step needed to set up Indirect Permissions and can be done by answering the following questions:</p>
                                            <ul>
                                                <li>
                                                    <p>What is the target Entity Type?
There are multiple multiple Entity Types but for this example we will choose <code>AD User (nominative)</code>. Another rule can be written if you want to handle Indirect Permissions for <code>AD User (administration)</code>.</p>
                                                </li>
                                                <li>
                                                    <p>Which permissions can be obtained transitively in the Active Directory?
Users get permissions by being members of a group. The property is <code>memberOf</code>.</p>
                                                </li>
                                                <li>
                                                    <p>Do we want to look for correspondences in another system?
Here, we do not want to. This also means that <code>Correspondence</code>, <code>CorrespondenceMembershipProperty</code>, and <code>Entitlement</code> will remain blank.</p>
                                                </li>
                                            </ul>
                                            <p>Finally, if we compile all this information and using the naming of the standard <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>&#160;Demo, we get the following Indirect Resource Rule:</p><pre class="xml" xml:space="preserve">
                    <code>
&lt;IndirectResourceRule
    ResourceType="AD_Entry_NominativeUser"    Property="memberOf"    /&gt;
</code>
                </pre>
                                            <div class="notices note">
                                                <p>After adding this rule to the Configuration, do not forget to deploy the configuration.</p>
                                            </div>
                                            <h3 id="set-up-a-test-user">Set up a test user</h3>
                                            <p>The aim of this section is to give you a step-by-step guide for setting up a test user. It will also cover what is displayed in <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>. In this example, we will assign a <code>Test Group A</code> directly to the test user and the <code>Test Group A</code> will also be a member of the <code>Test Group B</code>. This way, the test user will also have an indirect assignment to the <code>Test Group B</code>. We will also create the corresponding roles.</p>
                                            <p style="text-align: center;">
                                                <img src="../../../../../Resources/Images/IndirectPermissionsADExample.png" alt="Group Membership Schema" style="width: 854px;height: 179px;" />
                                            </p>
                                            <div class="notices note">
                                                <p>A running Active Directory instance is required to reproduce these steps yourself.</p>
                                            </div>
                                            <h4 id="edit-the-active-directory">Edit the Active Directory</h4>
                                            <p>Create two groups in your Active Directory, <code>TestGroupA</code> and <code>TestGroupB</code>. Then add <code>TestGroupA</code> as a member of <code>TestGroupB</code>. Finally add a test user as a member of <code>TestGroupA</code>. The test user can be any existing user in the AD that is known by <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>.</p>
                                            <h4 id="prepare-usercube">Prepare Identity Manager</h4>
                                            <p>Since we have manually edited the Active Directory, we first need to run an AD synchronization job.
Then we create one Single Role for each group in the Active Directory. We will name them <code>TestRoleA</code> and <code>TestRoleB</code> for  <code>Directory &gt; User</code>, :</p>
                                            <p style="text-align: center;">
                                                <img src="../../../../../Resources/Images/SRConf_5.2.1.png" alt="Single Role Configuration Example" style="width: 613px;height: 528px;" />
                                            </p>
                                            <p>We will also create a test Composite Role to showcase indirect Composite Roles. We will name it <code>TestCRoleAB</code>:</p>
                                            <p style="text-align: center;">
                                                <img src="../../../../../Resources/Images/CRConf_5.2.1.png" alt="Composite Role Configuration" style="width: 614px;height: 530px;" />
                                            </p>
                                            <p>Then we will also need to add some rules. We first need to add one Navigation Rule for each group to link them with their respective Single Role:</p>
                                            <p style="text-align: center;">
                                                <img src="../../../../../Resources/Images/NavRule_5.2.1.png" alt="Navigation Rule Example" style="width: 609px;height: 521px;" />
                                            </p>
                                            <p>And finally, we need to add Single Role Rules to link our two previously created Single Roles to the new Composite Role:</p>
                                            <p style="text-align: center;">
                                                <img src="../../../../../Resources/Images/SRRule_5.2.1.png" alt="Single Role Rule Example" style="width: 617px;height: 540px;" />
                                            </p>
                                            <div class="notices note">
                                                <p>Even if two rules of a kind are needed, only one is pictured. Do not forget the other one.</p>
                                            </div>
                                            <h4 id="indirect-permission-display">Indirect permission display</h4>
                                            <p>After running a <a href="../../../toolkit/xml-configuration/jobs/tasks/server/computerolemodeltask/index.html" target="_parent" title="ComputeRoleModelTask" alt="ComputeRoleModelTask" class="MCXref xref">
              
              Compute Role Model Task
              </a>, Indirect Permissions should now appear for your test user.</p>
                                            <div class="notices note">
                                                <p>The next screenshots were taken after adding the direct assignment directly inside the Active Directory. As such, the direct permission is also flagged as <code>Non-conforming</code>.</p>
                                            </div>
                                            <p>If you first go on the <code>View permissions</code> tab of your test user, the only new role that appears in the <code>Simplified view</code> is the indirect Composite Role <code>TestCRoleAB</code>:</p>
                                            <p style="text-align: center;">
                                                <img src="../../../../../Resources/Images/ViewPermissionsSimplified_5.2.1.png" alt="View Permissions Simplified" style="width: 732px;height: 202px;" />
                                            </p>
                                            <p>To display Indirect Permissions, you need to switch over to the <code>Advanced view</code>. <code>TestRoleA</code> and <code>TestRoleB</code> should then appear:</p>
                                            <p style="text-align: center;">
                                                <img src="../../../../../Resources/Images/ViewPermissionsAdvanced_5.2.1.png" alt="View Permissions Advanced" style="width: 1023px;height: 290px;" />
                                            </p>
                                            <p>You can also directly display the Assigned Resource Navigations by clicking on <code>AD User (nominative)</code>. The <code>memberOf</code> properties will appear in the list:</p>
                                            <p style="text-align: center;">
                                                <img src="../../../../../Resources/Images/ADAssignedNavigations_5.2.1.png" alt="AD Assigned Resource Navigations" style="width: 1021px;height: 75px;" />
                                            </p>
                                            <h2 id="configure-indirect-permissions-in-an-microsoft-entra-id">Configure Indirect Permissions in an Microsoft Entra ID</h2>
                                            <p>We can follow the same steps to configure this new rule:</p>
                                            <ul>
                                                <li>
                                                    <p>What is the target Entity Type?
Once again, we will configure a rule for nominative users. The Entity Type is <code>MicrosoftEntraID_DirectoryObject_NominativeUser</code>.</p>
                                                </li>
                                                <li>
                                                    <p>Which permissions can be obtained transitively in the Microsoft Entra ID (formerly Microsoft Azure AD)?
Users get permissions by being members of a group. The property is <code>memberOf</code>.</p>
                                                </li>
                                                <li>
                                                    <p>Do we want to look for correspondences in another system?
Here, we do not want to (it is possible, but it is not the aim of this How-To).
This also means that <code>Correspondence</code>, <code>CorrespondenceMembershipProperty</code>, and <code>Entitlement</code> will remain blank.</p>
                                                </li>
                                            </ul>
                                            <p>Finally, if we compile all this information and using the naming of the standard <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span> Demo, we get the following Indirect Resource Rule:</p><pre class="xml" xml:space="preserve">
                    <code>
&lt;IndirectResourceRule
    ResourceType="MicrosoftEntraID_DirectoryObject_NominativeUser"    Property="memberOf"    /&gt;
</code>
                </pre>
                                            <h2 id="configure-indirect-permissions-in-sharepoint-using-correspondences-from-an-microsoft-entra-id">Configure Indirect Permissions in SharePoint using Correspondences from an Microsoft Entra ID</h2>
                                            <p>We can follow the same steps to configure this new rule, but this time we will showcase the correspondence feature:</p>
                                            <ul>
                                                <li>
                                                    <p>What is the target Entity Type?
We first start in the Microsoft Entra ID. Once again, we will configure a rule for nominative users. The Entity Type is <code>MicrosoftEntraID_DirectoryObject_NominativeUser</code>.</p>
                                                </li>
                                                <li>
                                                    <p>Which permissions can be obtained transitively in the Microsoft Entra ID?
Users get permissions by being members of a group. The property is <code>memberOf</code>.</p>
                                                </li>
                                                <li>
                                                    <p>Do we want to look for correspondences in another system?
Yes, we want to find correspondences in SharePoint. A correspondence can be found using the <code>SharePointObject</code> property.</p>
                                                </li>
                                                <li>
                                                    <p>Which permissions can be obtained transitively in SharePoint?
Once again, users get permissions based on which groups they are a member of. The property capturing this notion for SharePoint entities is <code>Group</code></p>
                                                </li>
                                                <li>
                                                    <p>Is being member of a group in SharePoint the type of permissions that we want to capture?
While this can be computed, we are rather interested in compiling which SharePoint objects a user can view/change/etc. We obtain this information using the <code>Entitlement</code> property.</p>
                                                </li>
                                            </ul>
                                            <p>Finally, if we compile all this information and use the naming convention of the standard <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>&#160;Demo, we get the following Indirect Resource Rule:</p><pre class="xml" xml:space="preserve">
                    <code>
&lt;IndirectResourceRule
    ResourceType="MicrosoftEntraID_DirectoryObject_NominativeUser"    Property="memberOf"    Correspondence="SharePointObject"    CorrespondenceMembershipProperty="Group"    Entitlement="Entitlement"    /&gt;
</code>
                </pre>
                                            <div class="notices note">
                                                <p>This rule will also compute indirect permissions for the Microsoft Entra ID.</p>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
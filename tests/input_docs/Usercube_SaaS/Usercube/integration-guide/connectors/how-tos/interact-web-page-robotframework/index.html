<!DOCTYPE html>
<html lang="en-us" class="js csstransforms3d _Skins_HTML5___Side_Navigation" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Home Page|Integration Guide|Connectors|Configuration Details">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Resources/TableStyles/Sb Table 1.css" rel="stylesheet" data-mc-stylesheet-type="table" /><title>Interact with a Web Page via Robot Framework</title>
        <link href="../../../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body class="" data-url="../../../../integration-guide/connectors/how-tos/interact-web-page-robotframework/">
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../../index.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <h1>Interact with a Web Page via Robot Framework</h1>
                                    <p>This guide explains how to write a Robot Framework script that interacts with a web based external system.</p>
                                    <h2 id="example-interacting-with-a-web-based-application">Example: Interacting with a web-based application</h2>
                                    <p>Consider an external system that is accessible through a web interface, and that does not offer an API. In this situation, we can either interact manually with the external system , or with a Robot Framework connection.</p>
                                    <h2 id="prerequisites">Prerequisites</h2>
                                    <p>This guide will focus only on how to interact with a web-based application. The guide on how to write a Robot Framework script explains the basics of Robot Framework. The basic prerequisites can be found on the Robot Framework connector page. See the <a href="../write-fulfill-robotframework-script/index.html" target="_parent" title="Write a Robot Framework Script" alt="Write a Robot Framework Script" class="MCXref xref">
              
              Write a Robot Framework Script
              </a> and <a href="../../references-connectors/robotframework/index.html" target="_parent" title="Robot Framework" alt="Robot Framework" class="MCXref xref">
              
              Robot Framework
              </a> topics for additional information.</p>
                                    <p>The prerequisites are explained in detail at the <a href="https://pypi.org/project/robotframework-seleniumlibrary/" target="_blank" title="Robot Framework selenium pypi" alt="Robot Framework selenium pypi">Robot Framework selenium pypi</a> page.</p>
                                    <p>The requirements specific to the Robot Framework Selenium library are as follows:</p>
                                    <ul>
                                        <li>Robot Framework selenium library: use <code>pip install --upgrade robotframework-seleniumlibrary</code> in the command prompt.</li>
                                        <li>A web browser.</li>
                                        <li>A web driver that corresponds to the web browser and its version. Webdrivers can be found in the<a href="https://www.selenium.dev/selenium/docs/api/py/index.html#drivers" target="_blank" title="Selenium website" alt="Selenium website"> Selenium website</a>. This web driver should be in your path. To check that the web driver is in your path, use <code>gcm {webdriver_name}</code>. As an example for Edge, use <code>gcm MicrosoftWebDriver</code>.</li>
                                    </ul>
                                    <div class="notices info">
                                        <p>The web driver for Edge is called <code>msedgedriver.exe</code>, but the Robot Framework may expect it to be called <code>MicrosoftWebDriver.exe</code> depending on the python version. Renaming the web driver from <code>msedgedriver.exe</code> to <code>MicrosoftWebDriver.exe</code> should fix this issue.</p>
                                    </div>
                                    <div class="notices note">
                                        <p>If the browser is updated, the web driver should also be updated.</p>
                                    </div>
                                    <p>While not strictly required, it is highly reccomended to look at the <a href="https://robotframework.org/SeleniumLibrary/SeleniumLibrary.html" target="_blank" title="Robot Framework selenium library documentation" alt="Robot Framework selenium library documentation">Robot Framework selenium library documentation</a>.</p>
                                    <h2 id="selenium-basics">Selenium basics</h2>
                                    <p>Selenium is a web browser automation tool. Selenium can automatically perform scripted actions in a web browser. Selenium is not easy to use on its own, and it is easier to use Selenium via the Robot Framework. However, the basics are still the same.</p>
                                    <p>The basic structure of a web page is defined with HTML. It is accessible with the inspect tool, which can be opened by pressing the F12 key on most browsers. For Selenium, we want to find information on specific parts of the page. Inspecting an element can be done by right clicking the element, and clicking <strong>Inspect</strong>.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../../../Resources/Images/RobotFrameworkSelenium_InspectTool.png" alt="Inspect Tool" style="width: 867px;height: 514px;" />
                                    </p>
                                    <p>Suppose the goal of the script is to copy the content of the code block, and paste it to a file, to ensure that the file is up to date with the documentation. To do this, the Robot Framework has to click on the <strong>copy to clipboard</strong> button with the keyword <a href="https://robotframework.org/SeleniumLibrary/SeleniumLibrary.html#Click%20Element"><code>Click Element</code></a>.</p>
                                    <h2 id="locating-elements">Locating elements</h2>
                                    <p>As stated in the Robot Framework SeleniumLibrary documentation, the keyword <code>Click Element</code> requires an element locator. The element locator identifies which element the Robot Framework should click. To ensure the right element is clicked, the element locator should only match the one element which should be clicked.</p>
                                    <p>In the HTML, the button has a class <code>class="copy-to-clipboard"</code>. The element locator <code>class:copy-to-clipboard</code> matches the button. However, there are other buttons with the same class on the page. The easiest way to click the right button is with an XPath element locator.</p>
                                    <h3 id="xpath-element-locators">XPath element locators</h3>
                                    <p>Each element on the web page has an XPath, and each XPath uniquely identifies an element. This means that we can always use an XPath locator. To get the XPath of an element, inspect the element, then right click it in the HTML, and click on <strong>Copy</strong> &gt; <strong>Full XPath</strong>.</p>
                                    <p style="text-align: center;">
                                        <img src="../../../../../Resources/Images/RobotFrameworkSelenium_CopyFullXPath.png" alt="Copy Full XPath" style="width: 863px;height: 496px;" />
                                    </p>
                                    <p>For the <code>copy to clipboard</code> button, the XPath is <code>/html/body/section/div[2]/div[3]/div[1]/pre[4]/span</code>.</p>
                                    <div class="notices note">
                                        <p>XPaths change as the page is updated. Using a location strategy other than the XPath strategy should reduce the maintenance needs of the script.</p>
                                    </div>
                                    <h3 id="hypertext-references-and-api-calls">Hypertext references and API calls</h3>
                                    <p>Some elements have links to other websites or pages of the same website. In the HTML inspection, these elements are likely to have a <code>href</code> attribute containing the link. <code>Href</code> stands for hypertext reference. By going directly to the linked URL instead of clicking the link, the script does not need to specify an element locator for the link.</p>
                                    <p>In some cases, an API can be called simply by going to the right URL. This URL may be used as a shortcut to avoid having to fill in text fields. The <code>href</code> attributes may show the format of the API calls.</p>
                                    <h2 id="use-case-fulfill-groups-in-a-banking-system">Use Case: Fulfill groups in a Banking system</h2>
                                    <p>The Banking system is a <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>&#160;demo application that represents an external system. The Banking system stores basic information on its users such as their names, mail addresses� The most interesting part of the Banking system is the groups functionality, as users can belong to multiple groups, and groups can have multiple users.</p>
                                    <p>The goal of this use case is to extract the existing associations between groups and users from the Banking system into <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>, then provide a way to add users to a group and remove users from a group. To showcase the password generation, the script will generate a password for the provisioned users' accounts.</p>
                                    <h3 id="connector-configuration">Connector configuration</h3>
                                    <p>As stated in the previous part, the Banking connector is supposed to link the users and their groups. This means that the connector has a user entity type, and a group entity type, with an entity association between them.</p>
                                    <p>The Banking connector has to be able to extract the data, and fulfill the Banking system. The fulfillment of the Banking system can only be done through its web application, which means the Robot Framework Selenium library will be used. The extraction of the data will be performed through an SQL connection.</p>
                                    <p>For simplicity's sake, only the user's <code>Login</code> is kept.</p><pre class="xml" xml:space="preserve"><code>
	&lt;Connector Identifier="Banking" DisplayName_L1="Banking" Agent="Local"/&gt;	&lt;Category Policy="Default" Identifier="Banking" DisplayName_L1="Banking" /&gt;	&lt;Connection Connector="Banking" DisplayName_L1="Banking Extract Database" Identifier="BankingExtractDatabase" Package="Usercube.SQL.SQLServer@0000001"/&gt;	&lt;Connection Connector="Banking" DisplayName_L1="Banking Fulfillment" Identifier="BankingFulfillment" Package="Usercube.RobotFramework@0000001"/&gt;	&lt;EntityType Identifier="Banking_Group" DisplayName_L1="Banking - Group" DisplayName_L2="Banking - Groupe"&gt;		&lt;Property Identifier="name" DisplayName_L1="Group Name" IsKey="true" TargetColumnIndex="1" Type="String" /&gt;		&lt;Property Identifier="users" DisplayName_L1="Users" Type="ForeignKey" /&gt;	&lt;/EntityType&gt;	&lt;EntityType Identifier="Banking_User" DisplayName_L1="Banking - User" DisplayName_L2="Banking - Utilisateur"&gt;		&lt;Property Identifier="login" DisplayName_L1="Login" IsKey="true" TargetColumnIndex="1" Type="String" /&gt;		&lt;Property Identifier="groups" DisplayName_L1="Groups" Type="ForeignKey" /&gt;	&lt;/EntityType&gt;	&lt;EntityTypeMapping Identifier="Banking_Group" Connector="Banking" ConnectionTable="BankingExtractDatabase_&amp;quot;dbo&amp;quot;.&amp;quot;um_groups&amp;quot;"&gt;		&lt;Property Identifier="name" ConnectionColumn="name" IsPrimaryKey="true" /&gt;	&lt;/EntityTypeMapping&gt;	&lt;EntityTypeMapping Identifier="Banking_User" Connector="Banking" ConnectionTable="BankingExtractDatabase_&amp;quot;dbo&amp;quot;.&amp;quot;um_users&amp;quot;"&gt;		&lt;Property Identifier="login" ConnectionColumn="login" IsPrimaryKey="true" /&gt;	&lt;/EntityTypeMapping&gt;	
	&lt;EntityAssociation Identifier="Banking_Users_Groups" DisplayName_L1="User" IsProperty1Collection="true" IsProperty2Collection="true" Property1="Banking_Group:users" Property2="Banking_User:groups" /&gt;	&lt;EntityAssociationMapping Identifier="Banking_Users_Groups" Column1="group" Column2="user" ConnectionTable="BankingExtractDatabase_&amp;quot;dbo&amp;quot;.&amp;quot;um_usersgroups&amp;quot;" EntityPropertyMapping1="Banking_Group:name" EntityPropertyMapping2="Banking_User:login" Connector="Banking" /&gt;	&lt;ViewTargetResourceTemplate EntityType="Banking_Group" Profile="Administrator" /&gt;	&lt;ViewTargetResourceTemplate EntityType="Banking_User" Profile="Administrator" /&gt;
</code></pre>
                                    <p>The notion of groups in the Banking system is replaced by the notion of single roles in <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>. A user belonging to the accountant group in the Banking system has the accountant single role in <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>. To automate the correspondance, the connector's configuration requires a rule between the group resource and the single role. This can be done with a navigation rule for each single role and corresponding group.</p>
                                    <p>For simplicity's sake, only three roles are kept.</p><pre class="xml" xml:space="preserve"><code>
	&lt;SingleRole Identifier="BAGR09" DisplayName_L1="Banking role: all transactions" DisplayName_L2="Metiers : op�rations toutes r�gions" Category="Banking" EntityType="Directory_User" Policy="Default" /&gt;	&lt;SingleRole Identifier="BAG002" DisplayName_L1="Banking role: agency" DisplayName_L2="M�tiers : agence" Category="Banking" EntityType="Directory_User" Policy="Default" /&gt;	&lt;SingleRole Identifier="BAG003" DisplayName_L1="Banking role: employees agency" DisplayName_L2="M�tiers : agence personnel" Category="Banking" EntityType="Directory_User" Policy="Default" /&gt;	&lt;ResourceType Identifier="Banking_NominativeUser" DisplayName_L1="Banking User (nominative)" Policy="Default" TargetEntityType="Banking_User" Category="Banking" SourceEntityType="Directory_User" BlockProvisioning="false"&gt;		&lt;ScalarRule Property="login" Expression="C#:person:return person.Login;" /&gt;		&lt;NavigationRule Property="groups" Resource="Business role: all transactions" SingleRole="BAGR09" /&gt;		&lt;NavigationRule Property="groups" Resource="Business role: agency" SingleRole="BAG002" /&gt;		&lt;NavigationRule Property="groups" Resource="Business role: employees agency" SingleRole="BAG003" /&gt;	&lt;/ResourceType&gt;	&lt;ResourceTypeMapping Identifier="Banking_NominativeUser" Connection="BankingFulfillment" /&gt;	&lt;ResourceCorrelationRule ResourceType="Banking_NominativeUser" TargetBinding="login" Policy="Default" SourceMatchedConfidenceLevel="100" SourceExpression="C#:person:return &amp;quot;U&amp;quot; + person.EmployeeId;" /&gt;
</code></pre>
                                    <h3 id="define-settings">Define settings</h3>
                                    <p>As with every other Robot Framework script, the resource needs to be imported to launch the provisioning. The SeleniumLibrary also needs to be imported to use its keywords.</p><pre class="python" xml:space="preserve"><code>
*** Settings ***
Resource  C:/UsercubeDemo/Runtime/UsercubeRobotFramework.resource
Library  SeleniumLibrary
</code></pre>
                                    <h3 id="define-variables">Define variables</h3>
                                    <p>The variables in the <code>Variables</code> section can serve two purposes.</p>
                                    <ul>
                                        <li>Values that should be modified easily: The browser and the Banking web application URL change with the provisioning environment.</li>
                                        <li>Values that are used multiple times: The Banking web application URL is used three times in the script. This avoids editing mistakes that happen when only one of the instances is modified.</li>
                                    </ul><pre class="python" xml:space="preserve"><code>
*** Variables ***
${BROWSER}  edge
${BANKINGURL}  http://localhost:5011
</code></pre>
                                    <h3 id="define-custom-keywords">Define custom keywords</h3>
                                    <p>The script defines several custom keywords. As the element locators may not be easily understandable, it is important that the keywords are not long, and have descriptive names.</p>
                                    <table style="mc-table-style: url('../../../../../Resources/TableStyles/Sb Table 1.css');" class="TableStyle-Sb_Table_1" cellspacing="21">
                                        <thead>
                                            <tr class="TableStyle-Sb_Table_1-Head-Header1">
                                                <th style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-HeadE-Column1-Header1">
                                                    <p>Keyword</p>
                                                </th>
                                                <th style="font-size: 11pt;" class="TableStyle-Sb_Table_1-HeadD-Column1-Header1">
                                                    <p>Details</p>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="TableStyle-Sb_Table_1-Body-Body1">
                                                <td style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyE-Column1-Body1">
                                                    <p>Modify User</p>
                                                </td>
                                                <td style="font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyD-Column1-Body1">
                                                    <p>Sets a password for the user, then applies the provisioning order. This keyword does everything the <code>Execute Modify</code> keyword should do, so that it can be used for error handling. As the provisioned resource type may not have password reset settings, the password generation could fail, which is why it is called by the <code>Try Keyword</code> keyword.</p>
                                                </td>
                                            </tr>
                                            <tr class="TableStyle-Sb_Table_1-Body-Body2">
                                                <td style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyE-Column1-Body2">
                                                    <p>Restart Banking And Fail</p>
                                                </td>
                                                <td style="font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyD-Column1-Body2">
                                                    <p>Restarts the Banking Application, then fails the keyword execution. This keyword should be used when the Banking application is in an unknown state.</p>
                                                </td>
                                            </tr>
                                            <tr class="TableStyle-Sb_Table_1-Body-Body1">
                                                <td style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyE-Column1-Body1">
                                                    <p>Launch Banking App</p>
                                                </td>
                                                <td style="font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyD-Column1-Body1">
                                                    <p>Launches the Banking web application. To check that the web browser is on the right page, the title of the page is verified with the <code>Title Should Be</code> keyword.</p>
                                                </td>
                                            </tr>
                                            <tr class="TableStyle-Sb_Table_1-Body-Body2">
                                                <td style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyE-Column1-Body2">
                                                    <p>Set Password</p>
                                                </td>
                                                <td style="font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyD-Column1-Body2">
                                                    <p>Generates a password for the provisioned user, sets their Banking password to that password, then sends a notification. This keyword attempts to send the notification as soon as the password is set. First, this ensures that the notification is sent even if the rest of the script would crash. Second, this keeps the password in memory for the least amount of time possible, which reduces security risks.</p>
                                                </td>
                                            </tr>
                                            <tr class="TableStyle-Sb_Table_1-Body-Body1">
                                                <td style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyE-Column1-Body1">
                                                    <p>Add Group To User</p>
                                                </td>
                                                <td style="font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyD-Column1-Body1">
                                                    <p>Selects the group that should be added, and clicks the <strong>Save</strong> button. This keyword also verifies that the web browser has the expected title. The <code>Click Element At Coordinates</code> keyword is used to reset the state of the page, as selecting the group hides the <strong>Save</strong> button.</p>
                                                </td>
                                            </tr>
                                            <tr class="TableStyle-Sb_Table_1-Body-Body2">
                                                <td style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyE-Column1-Body2">
                                                    <p>Search User And Add Group</p>
                                                </td>
                                                <td style="font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyD-Column1-Body2">
                                                    <p>Goes to the page to add groups to the right user, and calls <code>Add Group To User</code>. This keyword also verifies that the web page has the expected title.</p>
                                                </td>
                                            </tr>
                                            <tr class="TableStyle-Sb_Table_1-Body-Body1">
                                                <td style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyE-Column1-Body1">
                                                    <p>Add Groups</p>
                                                </td>
                                                <td style="font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyD-Column1-Body1">
                                                    <p>Calls <code>Search User And Add Group</code> for each group in the provisioning order.</p>
                                                </td>
                                            </tr>
                                            <tr class="TableStyle-Sb_Table_1-Body-Body2">
                                                <td style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyE-Column1-Body2">
                                                    <p>Add All Groups</p>
                                                </td>
                                                <td style="font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyD-Column1-Body2">
                                                    <p>Computes the number of groups to add, and if there is at least one, calls <code>Add Groups</code>. The only way to find the number of groups to add is in the <strong>Changes</strong> &gt; <strong>groups_add</strong> section of the provisioning order. This section does not exist if there are no groups to add, so the <code>Run Keyword And Ignore Error</code> is called to avoid propagating the error.</p>
                                                </td>
                                            </tr>
                                            <tr class="TableStyle-Sb_Table_1-Body-Body1">
                                                <td style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyE-Column1-Body1">
                                                    <p>Remove Group From User</p>
                                                </td>
                                                <td style="font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyD-Column1-Body1">
                                                    <p>Goes to the URL corresponding to the API call to remove the group from the user.</p>
                                                </td>
                                            </tr>
                                            <tr class="TableStyle-Sb_Table_1-Body-Body2">
                                                <td style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyE-Column1-Body2">
                                                    <p>Remove Groups</p>
                                                </td>
                                                <td style="font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyD-Column1-Body2">
                                                    <p>Calls <code>Remove Group From User</code> for each group in the provisioning order.</p>
                                                </td>
                                            </tr>
                                            <tr class="TableStyle-Sb_Table_1-Body-Body1">
                                                <td style="text-align: center;font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyB-Column1-Body1">
                                                    <p>Remove All Groups</p>
                                                </td>
                                                <td style="font-size: 11pt;" class="TableStyle-Sb_Table_1-BodyA-Column1-Body1">
                                                    <p>Computes the number of groups to remove, and if there is at least one, calls <code>Remove Groups</code>. The only way to find the number of groups to remove is in the <strong>Changes</strong> &gt; <strong>groups_remove</strong> section of the provisioning order. This section does not exist if there are no groups to remove, so the <code>Run Keyword And Ignore Error</code> is called to avoid propagating the error.</p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table><pre class="python" xml:space="preserve"><code>
*** Keywords ***
Modify User
    [Arguments]  ${order}
    Try Keyword  Set Password  ${order}
    Catch Keyword  Go To  ${BANKINGURL}/User
    Title Should Be  All Users - Banking System
    Add All Groups  ${order}
    Remove All Groups  ${order}

Restart Banking And Fail
    Close Browser
    Launch Banking App
    Fail  ${Provisioning failed, restarting the browser}

Launch Banking App
    Open Browser  ${BANKINGURL}  ${BROWSER}
    Title Should Be  Home Page - Banking System

Set Password
    [Arguments]  ${order}
    Go To  ${BANKINGURL}/User/SetPassword/${login}
    Title Should Be  Edit ${login} - Banking System
    ${password}=  Generate Password
    Input Text  id:Password  ${password}
    Click Element  xpath:/html/body/div/main/div[1]/div/form/div[2]/input
    Send Password Notification

Add Group To User
    [Arguments]  ${groupName}
    Select From List By Value  name:group  ${groupName}
    Click Element at Coordinates  name:group  250  0
    Click Element  xpath:/html/body/div/main/div[1]/div/form/div[2]/input
    Title Should Be  All Users - Banking System

Search User And Add Group
    [Arguments]  ${login}  ${groupName}
    Go To  ${BANKINGURL}/User/AddGroup/${login}
    Title Should Be  Add Group to ${login} - Banking System
    Add Group To User  ${groupName}

Add Groups
    [Arguments]  ${order}  ${length}
    FOR  ${i}  IN RANGE  ${length}
        Search User And Add Group  ${order['Resource']['login']}  ${order['Changes']['groups_add'][${i}]['name']}
    END

Add All Groups
    [Arguments]  ${order}
    ${status}  ${length}=  Run Keyword And Ignore Error  Get Length  ${order['Changes']['groups_add']}
    Run Keyword If  '${status}' == 'PASS'  Add Groups  ${order}  ${length}

Remove Group From User
    [Arguments]  ${login}  ${groupName}
    Go To  ${BANKINGURL}/User/RemoveGroup/${login}?groupId=${groupName}

Remove Groups
    [Arguments]  ${order}  ${length}
    FOR  ${i}  IN RANGE  ${length}
        Remove Group From User  ${order['Resource']['login']}  ${order['Changes']['groups_remove'][${i}]['name']}
    END

Remove All Groups
    [Arguments]  ${order}
    ${status}  ${length}=  Run Keyword And Ignore Error  Get Length  ${order['Changes']['groups_remove']}
    Run Keyword If  '${status}' == 'PASS'  Remove Groups  ${order}  ${length}
</code></pre>
                                    <h3 id="define-mandatory-keywords">Define mandatory keywords</h3>
                                    <p>To be able to provision the system, the script must contain the <code>ExecuteAdd</code>, <code>ExecuteDelete</code>, and <code>ExecuteModify</code> keyword. As the Banking system is only able to modify existing accounts, only the <code>Execute Modify</code> keyword is implemented.</p>
                                    <p>To simplify error handling, the <code>Execute Modify</code> keyword only calls the <code>Modify User</code> keyword. As only a single keyword is needed, it can be called within the <code>Try Keyword</code> keyword. This means that the error handling can be handled with the <code>Catch Keyword</code> keyword.</p><pre class="python" xml:space="preserve"><code>
*** Keywords ***
ExecuteAdd
    [Arguments]  ${order}
    Log To Console  ExecuteAdd is not implemented

ExecuteDelete
    [Arguments]  ${order}
    Log To Console  ExecuteDelete is not implemented

ExecuteModify
    [Arguments]  ${order}
    Try Keyword  Modify User  ${order}
    Catch Keyword  Restart Banking And Fail
</code></pre>
                                    <h3 id="define-test-cases">Define test cases</h3>
                                    <p>Although the Robot Framework is used for provisioning in <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>, it is most often used for testing, which is why the <code>Test Cases</code> section defines what should happen when <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>&#160;starts the Robot Framework task. Note that the <code>Launch Provisioning</code> keyword is mandatory for the provisioning to happen.</p>
                                    <p>As the browser should always be closed after the tests, a teardown is used to ensure that regardless of the script's execution state, the browser is closed.</p><pre class="python" xml:space="preserve"><code>
*** Test Cases ***
Run Provisioning
    Launch Banking App
    Launch Provisioning
    [Teardown]  Close Browser
</code></pre>
                                    <h3 id="read-the-full-script">Read the full script</h3>
                                    <p>The full script is as follows:</p><pre class="python" xml:space="preserve"><code>
*** Settings ***
Resource  C:/UsercubeDemo/Runtime/UsercubeRobotFramework.resource
Library  SeleniumLibrary

*** Variables ***
${BROWSER}  edge
${BANKINGURL}  http://localhost:5011

*** Keywords ***
ExecuteAdd
    [Arguments]  ${order}
    Log To Console  ExecuteAdd is not implemented

ExecuteDelete
    [Arguments]  ${order}
    Log To Console  ExecuteDelete is not implemented

ExecuteModify
    [Arguments]  ${order}
    Try Keyword  Modify User  ${order}
    Catch Keyword  Restart Banking And Fail

Modify User
    [Arguments]  ${order}
    Try Keyword  Set Password  ${order}
    Catch Keyword  Go To  ${BANKINGURL}/User
    Title Should Be  All Users - Banking System
    Add All Groups  ${order}
    Remove All Groups  ${order}

Restart Banking And Fail
    Close Browser
    Launch Banking App
    Fail  ${Provisioning failed, restarting the browser}

Launch Banking App
    Open Browser  ${BANKINGURL}  ${BROWSER}
    Title Should Be  Home Page - Banking System

Set Password
    [Arguments]  ${order}
    Go To  ${BANKINGURL}/User/SetPassword/${login}
    Title Should Be  Edit ${login} - Banking System
    ${password}=  Generate Password
    Input Text  id:Password  ${password}
    Click Element  xpath:/html/body/div/main/div[1]/div/form/div[2]/input
    Send Password Notification

Add Group To User
    [Arguments]  ${groupName}
    Select From List By Value  name:group  ${groupName}
    Click Element at Coordinates  name:group  250  0
    Click Element  xpath:/html/body/div/main/div[1]/div/form/div[2]/input
    Title Should Be  All Users - Banking System

Search User And Add Group
    [Arguments]  ${login}  ${groupName}
    Go To  ${BANKINGURL}/User/AddGroup/${login}
    Title Should Be  Add Group to ${login} - Banking System
    Add Group To User  ${groupName}

Add Groups
    [Arguments]  ${order}  ${length}
    FOR  ${i}  IN RANGE  ${length}
        Search User And Add Group  ${order['Resource']['login']}  ${order['Changes']['groups_add'][${i}]['name']}
    END

Add All Groups
    [Arguments]  ${order}
    ${status}  ${length}=  Run Keyword And Ignore Error  Get Length  ${order['Changes']['groups_add']}
    Run Keyword If  '${status}' == 'PASS'  Add Groups  ${order}  ${length}

Remove Group From User
    [Arguments]  ${login}  ${groupName}
    Go To  ${BANKINGURL}/User/RemoveGroup/${login}?groupId=${groupName}

Remove Groups
    [Arguments]  ${order}  ${length}
    FOR  ${i}  IN RANGE  ${length}
        Remove Group From User  ${order['Resource']['login']}  ${order['Changes']['groups_remove'][${i}]['name']}
    END

Remove All Groups
    [Arguments]  ${order}
    ${status}  ${length}=  Run Keyword And Ignore Error  Get Length  ${order['Changes']['groups_remove']}
    Run Keyword If  '${status}' == 'PASS'  Remove Groups  ${order}  ${length}

*** Test Cases ***
Run Provisioning
    Launch Banking App
    Launch Provisioning
    [Teardown]  Close Browser
</code></pre>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
<!DOCTYPE html>
<html lang="en-us" class="js csstransforms3d _Skins_HTML5___Side_Navigation" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Home Page|User Guide|Set Up|Categorize Resources">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>
              
              Correlate Resources
              </title>
        <link href="../../../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body class="" data-url="../../../../user-guide/set-up/categorization/correlation/">
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../../index.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <section id="body">
                                        <div id="body-inner">
                                            <h1>
                                                <div>
              
              Correlate Resources
              </div>
                                            </h1>
                                            <p>How to define the <a href="../../../../integration-guide/toolkit/xml-configuration/provisioning/resourcecorrelationrule/index.html" target="_parent" class="MCXref xref" xrefformat="{para}">
              
              Resource Correlation Rule
              </a> to match up resources across systems, usually accounts with their owner.</p>
                                            <h2 id="overview">Overview</h2>
                                            <h3 id="correlation-purpose">Correlation purpose</h3>
                                            <p>Correlation is the process of establishing an ownership relationship between a <u>source</u> resource (usually an identity) and a <u>target</u> resource (usually an account). It is the basis of the link between an identity and their fine-grained entitlements. See the <a href="../../../../introduction-guide/overview/entitlement-management/index.html" target="_parent" class="MCXref xref" xrefformat="{para}">
              
              Entitlement Management
              </a> topic for additional information.</p>
                                            <p>Every resource type can be assigned a set of correlation rules.</p>
                                            <div class="notices warning">
                                                <p>Correlation rules must be created with caution as an error in the correlated attributes may result in the unwanted assignment of a given account to an existing user.</p>
                                            </div>
                                            <p>Correlation should be based on <u>immutable attributes</u>, for example codes that don't change during the resource's lifecycle rather than display names that can vary in time. This method prevents integrators from losing the history of the changes made to a resource after a correction.</p>
                                            <blockquote>
                                                <p>In addition to display names, counter-examples for correlation properties are: positions; marital names; locations, etc.</p>
                                            </blockquote>
                                            <h3 id="about-the-confidence-rate">About the confidence rate</h3>
                                            <p>As the aim here is to correlate all resources in a given resource type, correlation rules are going to rely on the patterns in resources' attributes, such as naming conventions.</p>
                                            <p>Sometimes, the managed system doesn't use rigorous rules and thus data quality isn't enough to allow the creation of a single infallible correlation/classification rule for all resources. Hence, you may need to create several correlation/classification rules.</p>
                                            <p>Each rule is configured with a confidence rate to express its reliability, according to data quality and sensitivity.</p>
                                            <p>In our case, correlation/classification can be based on a first rule applicable to quality data resources with a high confidence rate, and a second rule applicable to resources with a lower data quality. This second rule is going to have a lower confidence rate, thus a lower priority, because the strategy is to apply the first rule as much as possible. But the second rule is essential in case the first one doesn't apply, though it cannot be trusted as much as the first rule.</p>
                                            <p>Hence correlation/classification rules are configured with a confidence rate:</p>
                                            <ul>
                                                <li>from 100 to 150% to correlate resources automatically without a manual validation;</li>
                                                <li>from 0 to 99% to impose that a resource manager reviews the correlation/classification.</li>
                                            </ul>
                                            <p><span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span> considers the rules in descending order of confidence rate. The first matching rule is applied.</p>
                                            <p>In other words:</p>
                                            <ul>
                                                <li>if there is at least one matching rule with a confidence rate above 100%, then the one with the highest rate is applied;</li>
                                                <li>if there isn't and there is at least one matching rule with a confidence rate below 100%, then the one with the highest rate is suggested.</li>
                                            </ul>
                                            <div class="notices info">
                                                <p>There is no predefined priority order between two rules with the same confidence rate.</p>
                                            </div>
                                            <h3 id="focus-on-reviews">Focus on reviews</h3>
                                            <p>When the confidence rate is below 100%, correlation and classification reviews are to be done:</p>
                                            <ul>
                                                <li>
                                                    <p>on the <strong>Provisioning Review</strong> page when the owned resource is allowed by the role model, i.e. requested manually or assigned automatically by a resource type rule;</p>
                                                    <p>
                                                        <img src="../../../../../Resources/Images/Categorization_reviewsProvisioningReview_V603.png" alt="Correlation Review - Provisioning Review Screen" />
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>on the <strong>Resource Reconciliation</strong> page when the owned resource is <u>not</u> allowed by the role model, i.e. not requested manually nor assigned by a resource type rule. For example, the creation of a correlation rule without a resource type rule triggers unauthorized accounts on the <strong>Resource Reconciliation</strong> page.</p>
                                                    <p>
                                                        <img src="../../../../../Resources/Images/Categorization_reviewsResourceReconciliation_V603.png" alt="Correlation Review - Resource Reconciliation Screen" />
                                                    </p>
                                                </li>
                                            </ul>
                                            <div class="notices info">
                                                <p>Broadly speaking, the <strong>Resource Reconciliation</strong> page displays non-conforming assignments/values (gaps), i.e. resources and property values from the managed systems that are not allowed by a rule in <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>. The <strong>Provisioning Review</strong> page displays the resource and property changes whose workflows require a manual approval.</p>
                                            </div>
                                            <h3 id="correlation-rule-examples">Correlation rule examples</h3>
                                            <p>Consider AD accounts (target) and their owners (source). A classic example is to try and correlate identities and AD accounts based on the first name and last name. We can write a correlation rule that states that, for a given identity, <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span> looks for all AD accounts that bear the same first name and the same last name. All AD accounts that match this description are said to be <u>correlated</u> to the identity. The identity becomes the <u>owner</u> of the accounts.</p>
                                            <p>A set of correlation rules for a resource type could be:</p>
                                            <ul>
                                                <li>a rule with 100% confidence on login + name + first name;</li>
                                                <li>a rule with 90% confidence on login only.</li>
                                            </ul>
                                            <p>Usual rules can also be made, for example, on:</p>
                                            <ul>
                                                <li>name + first name using phonetics to avoid typos;</li>
                                                <li>first name + name + entry date if the entry date is known in the source systems;</li>
                                                <li>email address;</li>
                                                <li>Windows login.</li>
                                            </ul>
                                            <div class="notices note">
                                                <p>Correlation rules don't have to compare equivalent properties from <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span> and from the managed system. A rule can compare for example users' <code>Login</code> from <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span> with their <code>sAMAccountName</code> from the AD, even using C# expressions if needed.</p>
                                            </div>
                                            <h2 id="participants-and-artifacts">Participants and Artifacts</h2>
                                            <p>For a given managed system, integrators may need the help of the <u>application owner</u> who knows the application users, entitlements and data model.</p>
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th>Input</th>
                                                        <th>Output</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Identity repository ( (<span class="requiredAttribute">required</span>) <br />Resource types (<span class="requiredAttribute">required</span>)<br /><a href="../../synchronization/index.html" target="_parent" class="MCXref xref" xrefformat="{para}">
              
              Synchronize Data
              </a> (<span class="requiredAttribute">required</span>)</td>
                                                        <td>Correlation rules</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <p> See the <a href="../../initial-identities-loading/index.html" target="_parent" class="MCXref xref" xrefformat="{para}">
              
              Create the Workforce Repository
              </a> and <a href="../resource-type-creation/index.html" target="_parent" class="MCXref xref" xrefformat="{para}">
              
              Create a Resource Type
              </a> topics for additional information.</p>
                                            <h2 id="create-a-correlation-rule">Create a Correlation Rule</h2>
                                            <p>The principle of a correlation rule is to compare the expressions of the source and target objects.</p>
                                            <p>Fill a resource type with a correlation rule by proceeding as follows:</p>
                                            <ol>
                                                <li value="1">
                                                    <p>On the relevant resource type's page, click on <strong>Correlation Rules</strong> and <strong>+ New</strong>.</p>
                                                    <p>
                                                        <img src="../../../../../Resources/Images/ResourceType_newCorrelRule_V602.png" alt="New Correlation Rule" />
                                                    </p>
                                                    <div class="notices note">
                                                        <p>Correlation rules can also be created through the <strong>Access Rules</strong> screen (accessible from the home page, in the <strong>Configuration</strong> section), clicking on the <strong>Correlations</strong> tab and the addition button at the top right corner.</p>
                                                    </div>
                                                    <p>
                                                        <figure style="display: inline-block;width: 45%;margin: 2%;">
                                                            <img src="../../../../../Resources/Images/Home_rules_V602.png" alt="Home - Access Rules" />
                                                        </figure>
                                                        <figure style="display: inline-block;width: 45%;margin: 2%;">
                                                            <img src="../../../../../Resources/Images/iconAdd_V602.svg" alt="Addition Icon" />
                                                        </figure>
                                                    </p>
                                                </li>
                                                <li value="2">
                                                    <p>Fill in the fields.</p>
                                                    <p>
                                                        <img src="../../../../../Resources/Images/ResourceType_newCorrelRuleFields_V602.png" alt="New Correlation Rule Fields" />
                                                    </p>
                                                    <ul>
                                                        <li><strong>Source Object</strong>: at least one property from the source system that is going to be linked to a given target object. Can be defined by a property path and/or an <a href="../../../../integration-guide/toolkit/expressions/index.html" target="_parent" title="Expression" alt="Expressions" class="MCXref xref" xrefformat="{para}">Expressions</a>.</li>
                                                        <li><strong>Target Object</strong>: one property from the managed system that is going to be linked to a given source object. Can be defined by a property path and/or an <a href="../../../../integration-guide/toolkit/expressions/index.html" target="_parent" title="Expression" alt="Expressions" class="MCXref xref" xrefformat="{para}">Expressions</a>.</li>
                                                        <li><code>Confidence Rate</code>: rate expressing the rule's reliability, and its priority order.</li>
                                                    </ul>
                                                    <blockquote>
                                                        <p>In this example, a person via their login and name, is the owner of a nominative AD account via its <code>sAMAccountName</code> attribute and display name:

    </p>
                                                        <p>
                                                            <img src="../../../../../Resources/Images/Correlation_example_V602.png" alt="Correlation Rule Example" />
                                                        </p>
                                                    </blockquote>
                                                </li>
                                                <li value="3">
                                                    <p>Click on <strong>Create</strong> and see a line added on the rules page.</p>
                                                </li>
                                                <li value="4">
                                                    <p>On the connector dashboard and in the <strong>Resource Types</strong> frame, click on <strong>Jobs</strong> &gt; <strong>Prepare Correlation Keys</strong> to compute the expressions used in the new correlation rule(s), and click on <strong>Jobs</strong> &gt; <strong>Compute Role Model</strong> to apply all correlation rules.</p>
                                                </li>
                                            </ol>
                                            <p>
                                                <img src="../../../../../Resources/Images/Synchro_resourceType_V602.png" alt="Resource Type Jobs" />
                                            </p>
                                            <h2 id="impact-of-modifications">Impact of Modifications</h2>
                                            <p>An action (addition/modification/deletion) on a correlation rule doesn't trigger a new computation of correlation for the resources that are already correlated. The new version of said correlation rule will be applied only to new resources, along with the existing resources whose correlation was not yet reviewed (as unauthorized accounts on the <strong>Resource Reconciliation</strong> screen).</p>
                                            <!-- TODO:Waiting for feature to force re-correlation if needed. -->
                                            <p>Thus only non-conforming resources (unauthorized accounts on the <strong>Resource Reconciliation</strong> screen) can have their correlation and classification re-computed.</p>
                                            <div class="notices note">
                                                <p>Even without selecting an owner, reviewing unauthorized accounts on the <strong>Resource Reconciliation</strong> screen "blocks" correlation and classification "as is". Neither will be re-computed.</p>
                                            </div>
                                            <p>Simulations are available in order to anticipate the changes induced by a creation/modification/deletion in correlation rules. See the <a href="../../../optimize/simulation/index.html" target="_parent" class="MCXref xref" xrefformat="{para}">
              
              Perform a Simulation
              </a> topic for additional information.</p>
                                            <p>Any modification in correlation rules is taken into account via the following jobs: on the connector dashboard and in the <strong>Resource Types</strong> frame, click on <strong>Jobs</strong> &gt; <strong>Prepare Correlation Keys</strong>, and then on <strong>Jobs</strong> &gt; <strong>Compute Role Model</strong>.</p>
                                            <p>
                                                <img src="../../../../../Resources/Images/Synchro_resourceType_V602.png" alt="Resource Type Jobs" />
                                            </p>
                                            <h2 id="verify-correlation">Verify Correlation</h2>
                                            <p>In order to verify the process, check the list of <a href="../../../administrate/orphan-unused-account-review/index.html" class="MCXref xref" xrefformat="{para}">Review Orphaned and Unused Accounts</a> and analyze them to look for patterns revealing correlation issues. To do so, click on the target entity type(s) affected by your rule(s) in the left menu of the home page.</p>
                                            <p>
                                                <img src="../../../../../Resources/Images/EntityTypeCreation_test_V602.png" alt="Test Entity Type" />
                                            </p>
                                            <p>The entity type's page can be configured via XML to customize all displayed columns and available filters, especially the <strong>Orphan</strong> filter that spots resources without an owner, and the <strong>Owner / Resource Type</strong> column that shows the owner assigned to each resource.</p>
                                            <p>
                                                <img src="../../../../../Resources/Images/Correlation_test_V522.png" alt="Owner / Resource Type Column" />
                                            </p>
                                            <p>A knowledgeable person must analyze a few samples to ensure that resources' owners can all be justified, meaning that orphaned accounts are supposed to be so, and that correlated resources are matched with the <u>right</u> owner.</p>
                                            <div class="notices note">
                                                <p>Another possibility of correlation validation is to compare the <u>number of AD accounts</u> to the number of users. However, keep in mind that several accounts are sometimes assigned to a single user.</p>
                                            </div>
                                            <h2 id="troubleshooting">Troubleshooting</h2>
                                            <p class="Bold_Subheading">If a resource is not correlated (or not correctly), then:</p>
                                            <p>
                                                <img src="../../../../../Resources/Images/Correlation_uncorrelated_V600.png" alt="Uncorrelated Resource" />
                                            </p>
                                            <ul>
                                                <li>Check the validity of correlation rules.</li>
                                                <li>Check the resource's data quality.</li>
                                            </ul>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
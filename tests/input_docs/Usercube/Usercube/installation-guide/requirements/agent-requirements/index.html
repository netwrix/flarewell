<!DOCTYPE html>
<html lang="en-us" class="js csstransforms3d _Skins_HTML5___Side_Navigation" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Home Page|Installation Guide|Requirements">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>
              
              Agent           </title>
        <link href="../../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body class="" data-url="../../../installation-guide/requirements/agent-requirements/">
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../index.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <section id="body">
                                        <div id="body-inner">
                                            <h1>
                                                <div>
              
              Agent           </div>
                                            </h1>
                                            <p>This section identifies the requirements for an <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>&#160;agent.</p>
                                            <h2 id="software">Software</h2>
                                            <p>The agent is a <u>.NET</u> application.</p>
                                            <p>Running an agent requires installing the <a href="https://dotnet.microsoft.com/en-us/download/dotnet/8.0" target="_blank">Windows hosting bundle for ASP.Net Runtime</a>.</p>
                                            <h2 id="hosting">Hosting</h2>
                                            <p>When used separated from the server, the agent can be run as:</p>
                                            <ul>
                                                <li>An <a href="https://www.iis.net/">Internet Information Services (IIS)</a> website from the minimal version IIS 10.0 (<u>recommended</u>)</li>
                                                <li>A <a href="https://docs.microsoft.com/en-us/dotnet/framework/windows-services/introduction-to-windows-service-applications">Windows service</a></li>
                                                <li>A stand-alone executable for tests or debugging purposes</li>
                                            </ul>
                                            <h3 id="integrated-agent">Integrated agent</h3>
                                            <p>Some installations require multiple <u>separate agents</u>, but most of them use a single <u>integrated agent</u> that runs within the <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>&#160;server process. In that case, the server executable contains the agents and no agent executable needs to be executed. It means that if a <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>&#160;server is already installed, no further installation is required.</p>
                                            <p>In this case, the agent working directory is the same as the server working directory, and both the agent's and server's <code>appsettings</code> share the same configuration. The <code>appsettings.agent</code> configuration set is still configured through environment variables or via a separate <code>appsettings.agent.json</code> file stored next to the <code>Usercube-Server.exe</code> executable, in the common working directory. See the <a href="../../../integration-guide/network-configuration/agent-configuration/appsettings/index.html" target="_parent" title="Application Settings" alt="Application Settings" class="MCXref xref" xrefformat="{para}">Application Settings</a> and <a href="../../../integration-guide/network-configuration/agent-configuration/appsettings-agent/index.html" target="_parent" title="appsettings.agent" alt="appsettings.agent" class="MCXref xref" xrefformat="{para}">appsettings.agent</a> topics for additional information.</p>
                                            <h2 id="service-accounts">Service Accounts</h2>
                                            <p>The agent should be assigned a <a href="https://docs.microsoft.com/en-us/windows/security/identity-protection/access-control/service-accounts">Windows Server service account</a>.</p>
                                            <p>The installation of the server as part of an Active Directory domain requires the use of an account with sufficient privileges to create a service account on the domain.</p>
                                            <p>It can be either the IIS built-in <a href="https://support.microsoft.com/en-us/help/4466942/understanding-identities-in-iis">application pool identity</a>, or a custom <a href="https://docs.microsoft.com/en-us/windows/security/identity-protection/access-control/service-accounts">Windows Server service account</a>.</p>
                                            <h3 id="working-directory-permissions">Working directory permissions</h3>
                                            <p>The agent's service account needs specific permissions on the <a href="../../production-ready/working-directory/index.html" target="_parent" title="Create a Working Directory" alt="Create a Working Directory" class="MCXref xref" xrefformat="{para}">
              
              Create a Working Directory
              </a>:</p>
                                            <ul>
                                                <li><em>Read</em>, <em>Modify</em>, and <em>List folder contents</em> on the working directory;</li>
                                                <li><em>Read &amp; Execute</em> and <em>List folder contents</em> on the <code>Runtime</code> directory, usually <code>C:/Usercube&lt;Organization&gt;/Runtime</code>, in order to run the agent executable;</li>
                                                <li><em>Read</em>, <em>Modify</em>, and <em>List folder contents</em> on the directory for provisioning orders, whose path depends on the <code>Work</code> folder's path;</li>
                                                <li><em>Read</em>, <em>Modify</em>, <em>List folder contents</em>, and <em>Write</em> on the directory for data collection, whose path depends on the <code>Work</code> folder's path.</li>
                                            </ul>
                                            <p>See the <a href="../../production-ready/working-directory/index.html" target="_parent" title="Create a Working Directory" alt="Create a Working Directory" class="MCXref xref" xrefformat="{para}">
              
              Create a Working Directory
              </a> and <a href="../../../integration-guide/network-configuration/agent-configuration/appsettings/index.html" target="_parent" title="Application Settings" alt="Application Settings" class="MCXref xref" xrefformat="{para}">Application Settings</a> topics for additional information.</p>
                                            <p>Other permissions should be denied.</p>
                                            <blockquote>
                                                <p><strong>FAQ</strong>: How to set up directory permissions in Windows Server? See the <a href="../../production-ready/server/index.html" target="_parent" title="Install the Server" alt="Install the Server" class="MCXref xref" xrefformat="{para}">Install the Server</a> topic for additional information.</p>
                                            </blockquote>
                                            <h3 id="managed-systems-permissions">Managed systems' permissions</h3>
                                            <p>Every <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>&#160;agent needs one or several service accounts on the target managed systems, able to read and write to said managed systems.</p>
                                            <blockquote>
                                                <p>For example, using <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>&#160;with an Active Directory instance requires the agent to be assigned an Active Directory service account that can read, write, change users' passwords, update group memberships, and synchronize the whole Active Directory.</p>
                                            </blockquote>
                                            <p>Before going further, make sure the integration team has provided:</p>
                                            <ul>
                                                <li>The list of all managed systems</li>
                                                <li>Service accounts with the necessary permissions for the agent to perform <em>Read</em> and/or <em>Write</em> operations on the systems associated with a connector allowing respectively synchronization and/or provisioning; See the <a href="../../../integration-guide/connectors/index.html" target="_parent" title="Connectors" alt="Connectors" class="MCXref xref" xrefformat="{para}">Connectors</a> topic for additional information.</li>
                                                <li>service accounts' credentials</li>
                                            </ul>
                                            <div class="notices info">
                                                <p>Managed systems credentials are stored in the <code>appsettings.agent</code> configuration set and can be protected. See the <a href="../../../integration-guide/network-configuration/agent-configuration/appsettings-agent/index.html" target="_parent" title="appsettings.agent" alt="appsettings.agent" class="MCXref xref" xrefformat="{para}">appsettings.agent</a> and <a href="../../../integration-guide/modules/index.html" target="_parent" title="Modules" alt="Modules" class="MCXref xref" xrefformat="{para}">
              
              Modules
              </a> topics for additional information.</p>
                                            </div>
                                            <h3 id="database-permissions">Database permissions</h3>
                                            <p>The agent needs a service account that can authenticate to SQL Server.</p>
                                            <h2 id="hostname-and-dns">Hostname and DNS</h2>
                                            <p>The agent needs to be assigned a hostname within the organization's domain. End-user browsers must be able to resolve the agent's hostname.</p>
                                            <p>The associated DNS zone needs to be <a href="https://docs.microsoft.com/en-us/windows-server/networking/core-network-guide/cncg/server-certs/create-an-alias-cname-record-in-dns-for-web1">updated accordingly</a>.</p>
                                            <div class="notices tip">
                                                <p>The DNS alias should be written in lowercase in order to comply with as many security rules as possible.</p>
                                            </div>
                                            <h2 id="ssl-certificate">SSL Certificate</h2>
                                            <p>The agent requires the use of HTTPS ports and an SSL certificate in order to perform HTTPS communication with the server.</p>
                                            <h2 id="emails">Emails</h2>
                                            <p>The agent needs access to an SMTP server to <a href="../../production-ready/email-server/index.html" target="_parent" title="Send Notifications" alt="Send Notifications" class="MCXref xref" xrefformat="{para}">
              
              Send Notifications
              </a>.</p>
                                            <h2 id="encryption-key-pair">Encryption Key Pair</h2>
                                            <p>An <a href="https://en.wikipedia.org/wiki/Public-key_cryptography">RSA-2048 encryption key pair</a> is required for the agent in order to perform various encryption operations, such as source, configuration, or log file encryptions;</p>
                                            <p>Such a certificate does not need to be integrated into the target organization's Public Key Infrastructure and does not require an expiration date. They are only relevant to internal and temporary <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>&#160;data and can be changed at any time.</p>
                                            <p>An RSA key pair, as in an <a href="https://fr.wikipedia.org/wiki/X.509">X.509</a> public key certificate and a private key, can be stored either:</p>
                                            <ul>
                                                <li>As a <a href="https://en.wikipedia.org/wiki/PKCS_12">PKCS #12</a> archive (also called <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/install/personal-information-exchange---pfx--files">Personal Information Exchange file</a> or <code>.pfx</code> file) stored in the <em>server</em>'s host file system. The archive contains both the public key certificate and the private key.</li>
                                                <li>As a certificate from a Windows' <a href="https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/working-with-certificates#certificate-stores">certificate store</a> identified by <em>SubjectDistinguishedName</em> or by <em>Thumbprint</em>. The Windows certificate also contains both the public key certificate and the private key. This is the <u>recommended</u> method.</li>
                                            </ul>
                                            <div class="notices info">
                                                <p>The key pair can be generated with tools such as <a href="https://www.openssl.org/docs/manmaster/man1/req.html">OpenSSL</a> or Microsoft's <a href="https://docs.microsoft.com/en-us/powershell/module/pkiclient/new-selfsignedcertificate?view=win10-ps">New-SelfSignedCertificate</a> and <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/devtest/pvk2pfx?redirectedfrom=MSDN">pvk2pfx tool</a>.</p>
                                            </div>
                                            <h2 id="whats-next">What's Next?</h2>
                                            <p>To start the installation, follow either the <a href="../../quick-start/index.html" target="_parent" title="Quick Start Guide" alt="Quick Start Guide" class="MCXref xref" xrefformat="{para}">             
         Quick Start Guide</a> or the <a href="../../production-ready/index.html" target="_parent" title="Production-Ready Installation" alt="Production-Ready Installation" class="MCXref xref" xrefformat="{para}">Production-Ready Installation</a>.</p>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
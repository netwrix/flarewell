<!DOCTYPE html>
<html lang="en-us" class="js csstransforms3d _Skins_HTML5___Side_Navigation" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Home Page|Integration Guide|Workflows">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>
              
              Workflow Homonym
              </title>
        <link href="../../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body class="" data-url="../../../integration-guide/workflows/workflowhomonym/">
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../index.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <section id="body">
                                        <div id="body-inner">
                                            <h1>
                                                <div>
              
              Workflow Homonym
              </div>
                                            </h1>
                                            <p>In this section we configure the homonym detection that checks if a resource already exists in the system, preventing duplicates.</p>
                                            <h2 id="process">Process</h2>
                                            <ol>
                                                <li value="1">Create a homonym entity link, either with a default filter or customized filters</li>
                                                <li value="2">Create a display table to display the homonym result <em>(optional)</em></li>
                                                <li value="3">Define the part of the workflow form where homonyms must be checked</li>
                                            </ol>
                                            <h2 id="create-a-homonym-entity-link">Create a Homonym Entity Link</h2>
                                            <p>A <a href="../../toolkit/xml-configuration/workflows/homonymentitylink/index.html" target="_parent" title="Homonym Entity Link" alt="Homonym Entity Link" class="MCXref xref" xrefformat="{para}">
              
              Homonym Entity Link
              </a> defines a new homonym detection to be performed in a workflow form.
It can be defined in different ways.</p>
                                            <h3 id="with-a-default-filter">With a default filter</h3><pre class="xml" xml:space="preserve"><code>&lt;HomonymEntityLink FormEntityType="Directory_UserRecord" Identifier="Directory_UserRecord_Homonym" /&gt;
</code></pre>
                                            <p>When no filter is defined for the homonym entity link, the detection for homonyms is performed according to the homonym control form.
See section below.</p>
                                            <h3 id="with-customized-filters">With customized filters</h3>
                                            <p><a href="../../toolkit/xml-configuration/workflows/homonymentitylink/index.html" target="_parent" title="Homonym Entity Link" alt="Homonym Entity Link" class="MCXref xref" xrefformat="{para}">
              
              Homonym Entity Link
              </a>filters allow to define customized filters for a homonym detection.</p>
                                            <h4 id="simple-filter">Simple filter</h4><pre class="xml" xml:space="preserve"><code>&lt;HomonymEntityLink FormEntityType="Directory_UserRecord" Identifier="Directory_UserRecord_Homonym"&gt;    &lt;Filter
        Property1="LastName"
        Property2="FirstName"
    /&gt;&lt;/HomonymEntityLink&gt;
</code></pre>
                                            <p>Here, since the default operator is <code>Equal</code>, the detection for homonyms is performed by comparing the values of the <code>LastName</code> and <code>FirstName</code> properties with an exact spelling.</p>
                                            <p><em>NB: This example matches the default filter that would be computed based on the homonym control example in the section below.</em>
                                            </p>
                                            <h4 id="filters-on-several-entities">Filters on several entities</h4>
                                            <p>A homonym entity link can contain filters on the properties from several distinct entity types.</p>
                                            <blockquote>
                                                <p>The following example searches for homonyms among usual workers (from <code>Directory_UserRecord</code>) but also the guests (from <code>Directory_Guest</code>):</p><pre class="xml" xml:space="preserve"><code>
&lt;HomonymEntityLink FormEntityType="Directory_UserRecord" Identifier="Directory_UserRecord"&gt;  &lt;Filter
      Property1="LastName"
      Property2="FirstName"
  /&gt;
  <b>&lt;Filter 
      Property1="LastName" ComparisonProperty1="Directory_Guest:LastName" 
      Property2="FirstName" ComparisonProperty2="Directory_Guest:FirstName" 
   /&gt;</b>
&lt;/HomonymEntityLink&gt;
</code></pre>
                                            </blockquote>
                                            <div class="notices note">
                                                <p>In this case, a display table is required for the additional entity.</p>
                                            </div>
                                            <h4 id="flexible-filter">Flexible filter</h4>
                                            <p>A filter can be defined to compare the values in an approximate way.</p>
                                            <ul>
                                                <li>A flexible operator must be used, such as <code>FlexibleEqual</code>, <code>FlexibleStartWith</code>, etc.</li>
                                                <li>A flexible expression must be defined on the comparison property.</li>
                                            </ul>
                                            <ol>
                                                <li value="1">When the input detection value is retrieved directly from the property value</li>
                                            </ol><pre class="xml" xml:space="preserve"><code>&lt;HomonymEntityLink FormEntityType="Directory_UserRecord" Identifier="Directory_UserRecord_Homonym"&gt;    &lt;Filter
        Property1="LastName" ComparisonProperty1="PhoneticLastName" Operator1="FlexibleEqual"
        Property2="FirstName" ComparisonProperty2="PhoneticFirstName" Operator2="FlexibleEqual"
    /&gt;&lt;/HomonymEntityLink&gt;
</code></pre>
                                            <p>Here, <code>Property1</code> is set, so the detection for homonyms is performed by comparing the <code>LastName</code> value, entered by the user in the workflow form, with the phonetic value of existing resources stored as the <code>PhoneticLastName</code> property in the database.</p>
                                            <p>Before performing the comparison, the flexible expression of the comparison property is applied to the input value.</p>
                                            <ol start="2">
                                                <li value="2">When the input detection value is deducted</li>
                                            </ol><pre class="xml" xml:space="preserve"><code>&lt;HomonymEntityLink FormEntityType="Directory_UserRecord" Identifier="Directory_UserRecord_Homonym"&gt;    &lt;Filter
        ComparisonProperty1="PhoneticFirstLastName" Operator1="FlexibleEqual"
    /&gt;    &lt;Filter
        ComparisonProperty1="PhoneticFirstLastName" Operator1="FlexibleEqual" Expression1="C#:record:(record.LastName + ' ' + record.FirstName).Appproximate()"
    /&gt;&lt;/HomonymEntityLink&gt;
</code></pre>
                                            <p>Here:</p>
                                            <ul>
                                                <li>
                                                    <p>In the first filter, <code>Property1</code> and <code>Expression1</code> are not set, so the detection value is computed by applying the expression defined for <code>ComparisonProperty1</code> from the input values, eg. <code>(record.FirstName + ' ' + record.LastName).Appproximate()</code>.</p>
                                                </li>
                                                <li>
                                                    <p>In the second filter, <code>Expression1</code> is set, so the detection value is computed by applying the <code>Expression1</code> from the input values. This filter allows checking the homonyms on the <u>reversed</u> full name (to manage the case where the user reverses the first and last name for example).</p>
                                                </li>
                                            </ul>
                                            <p>The detection for homonyms is performed by comparing the detection values computed based on each filter with the values stored in the database and retrieves all resources that match any of the filters.</p>
                                            <h4 id="filter-on-a-language-property">Filter on a language property</h4>
                                            <p>If a filter is set on a language property, the detection for homonyms is performed on the property associated to the main language.</p><pre class="xml" xml:space="preserve"><code>&lt;HomonymEntityLink FormEntityType="Directory_Organization" Identifier="Directory_Organization_Homonym"&gt;    &lt;Filter Property1="Name" /&gt;&lt;/HomonymEntityLink&gt;
</code></pre>
                                            <p>Here, the <code>Name</code> property is a neutral property associated with two localized properties <code>Name_en</code> and <code>Name_fr</code>.</p>
                                            <p>If English is the main language, the detection for homonyms is performed on the <code>Name_en</code> value.</p>
                                            <h2 id="create-a-display-table-optional">Create a Display Table <em>(optional)</em></h2>
                                            <p>A <a href="../../toolkit/xml-configuration/user-interface/displaytable/index.html" target="_parent" title="Display Table" alt="Display Table" class="MCXref xref" xrefformat="{para}">Display Table</a> is used to define how a list of the same entity type should be displayed.</p>
                                            <p>By default, the homonyms are displayed using the default display table of the related entity type.</p>
                                            <p>To display homonyms in a different way than the default, a specific display table must be created where the <code>HomonymEntityLink</code> attribute is the identifier of the homonym entity link created above.</p><pre class="xml" xml:space="preserve"><code>&lt;DisplayTable Identifier="Directory_UserRecord_Homonym" EntityType="Directory_UserRecord" DisplayTableDesignElement="table" <b>HomonymEntityLink="Directory_UserRecord"&gt;</b>
    &lt;Column DefaultSortPriority="1" DisplayBinding="LastName" IsDisplayInSummaryView="true" IsResizable="true" ColumnSize="1" /&gt;    &lt;Column DisplayBinding="FirstName" IsDisplayInSummaryView="true" IsResizable="true" ColumnSize="1" /&gt;    &lt;Column DisplayBinding="Login" IsDisplayInSummaryView="true" IsResizable="true" IsSortable="true" CanBeFiltered="true" ColumnSize="2" /&gt;    &lt;Column DisplayBinding="Mail" IsDisplayInSummaryView="true" IsResizable="true" IsSortable="true" CanBeFiltered="true" ColumnSize="2" /&gt;    &lt;Column DisplayBinding="BirthDate" IsDisplayInSummaryView="true" IsResizable="true" IsSortable="true" CanBeFiltered="true" ColumnSize="4" /&gt;&lt;/DisplayTable&gt;
</code></pre>
                                            <h2 id="define-the-homonym-control-in-the-workflow-form">Define the Homonym Control in the Workflow Form</h2>
                                            <p>The <a href="../../toolkit/xml-configuration/user-interface/form/index.html" target="_parent" title="Form" alt="Form" class="MCXref xref" xrefformat="{para}">Form</a> where the homonyms are to be checked must contain a layout fieldset control where:</p>
                                            <ul>
                                                <li>the <code>HomonymEntityLink</code> attribute is the identifier of the homonym entity link created above.</li>
                                                <li>the properties to check (defined in the homonym filters) are represented in the control bindings.</li>
                                                <li>the bindings are all represented in the homonym filters.</li>
                                            </ul>
                                            <p>When the homonym entity link has no filter set and therefore the filter is calculated automatically, the homonym control form must only contain up to 5 controls where <code>Binding</code> attribute is defined.
Indeed, a filter can only be defined on up to 5 properties, see filter definition in <a href="../../toolkit/xml-configuration/workflows/homonymentitylink/index.html" target="_parent" title="Homonym Entity Link" alt="Homonym Entity Link" class="MCXref xref" xrefformat="{para}">
              
              Homonym Entity Link
              </a>.</p><pre class="xml" xml:space="preserve"><code>&lt;Form Identifier="Workflow_Directory_User_AdvancedStartInternal_Base" EntityType="Directory_UserRecord"&gt;    &lt;Control DisplayName_L1="Personal Data" DisplayName_L2="Informations personnelles" OutputType="LayoutFieldset" <b>HomonymEntityLink="Directory_UserRecord"&gt;</b>
        &lt;Control DisplayName_L1="Full Name" DisplayName_L2="Nom complet" OutputType="LayoutRowset"&gt;            &lt;Control Binding="LastName" IsRequired="true" /&gt;            &lt;Control Binding="FirstName" IsRequired="true" /&gt;        &lt;/Control&gt;    &lt;/Control&gt;&lt;/Form&gt;
</code></pre>
                                            <div class="notices warning">
                                                <p>If a filter is declared with a <code>ComparisonProperty</code> attribute (and so without a <code>Property</code>), then the properties used in the <code>Expression</code> (whether defined in the filter or elsewhere in the configuration) to compute the <code>ComparisonProperty</code> must also be represented in the control bindings.</p>
                                            </div>
                                            <p>In the example below, the properties used in the <code>Expression1</code> attribute that must be represented in the control bindings are <code>LastName</code> and <code>FirstName</code>.</p><pre class="xml" xml:space="preserve"><code>&lt;HomonymEntityLink FormEntityType="Directory_UserRecord" Identifier="Directory_UserRecord_Homonym"&gt;    &lt;Filter
        ComparisonProperty1="PhoneticFirstLastName" Operator1="FlexibleEqual" Expression1="C#:record:(record.<b>LastName</b> + ' ' + record.<b>FirstName</b>).Appproximate()"
    /&gt;&lt;/HomonymEntityLink&gt;
</code></pre>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
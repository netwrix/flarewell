<!DOCTYPE html>
<html lang="en-us" class="js csstransforms3d _Skins_HTML5___Side_Navigation" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Home Page|Integration Guide|Workflows|How To Create a Workflow">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>
              
              For Resource Update (No Record)
              </title>
        <link href="../../../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body class="" data-url="../../../../integration-guide/workflows/how-to/workflow-update-resource/">
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../../index.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <section id="body">
                                        <div id="body-inner">
                                            <h1>
                                                <div>
              
              For Resource Update (No Record)
              </div>
                                            </h1>
                                            <p>This section guides you through the procedure for the creation of a workflow to update a simple resource, i.e. to update, within a given resource, properties that do not involve records.</p>
                                            <h2 id="declare-a-workflow">Declare a Workflow</h2>
                                            <p>This <a href="../../../toolkit/xml-configuration/workflows/workflow/index.html" target="_parent" title="Workflow" alt="Workflow" class="MCXref xref">
              
              Workflow
              </a> is made of two activities:</p>
                                            <ol>
                                                <li value="1"><code>Action With Refine</code>: sends the resource's update request with a possibility of delegation.</li>
                                                <li value="2"><code>Persist</code>: saves the collected data and triggers provisioning.</li>
                                            </ol>
                                            <p>See the <a href="../../activity-templates/index.html" target="_parent" title="Activity Templates" alt="Activity Templates" class="MCXref xref">
              
              Activity Templates
              </a> topic for additional information.</p>
                                            <p>The example below creates a workflow to update only the user's <code>IsDraft</code> attribute.</p><pre class="xml" xml:space="preserve"><code>
&lt;Workflow Identifier="Directory_User_ChangeIsDraft" DisplayName_L1="User - Update IsDraft" VariablesType="Workflow_Directory_User"&gt;  &lt;Activity Identifier="Request" DisplayName_L1="Request" Template="ActionWithRefine" /&gt;  &lt;Activity Identifier="Persist" DisplayName_L1="Commit" Template="Persist" /&gt;&lt;/Workflow&gt;
</code></pre>
                                            <h2 id="create-forms">Create Forms</h2>
                                            <p>The XML configuration below represents the creation of a <a href="../../../toolkit/xml-configuration/user-interface/form/index.html" target="_parent" title="Form" alt="Form" class="MCXref xref">Form</a> that defines the elements to display in the workflow.</p>
                                            <p>Here we just have one field called <code>IsDraft</code> to update the corresponding boolean attribute for a given user:</p><pre class="xml" xml:space="preserve"><code>
&lt;Form Identifier="Workflow_Directory_User_ChangeIsDraft_Base" EntityType="Workflow_Directory_User"&gt;  &lt;Control DisplayName_L1="IsDraft" OutputType="LayoutRowset" EntityType="Directory_User"&gt;    &lt;Control Binding="IsDraft" /&gt;  &lt;/Control&gt;&lt;/Form&gt;
</code></pre>
                                            <h2 id="link-the-forms-to-the-workflow">Link the Forms to the Workflow</h2>
                                            <p>After creating a workflow with given activities, it is necessary to create the form to be displayed when launching the workflow. It has the type corresponding to a resource's update, i.e. <code>WorkflowEditEntityForm</code> and it must specify the workflow's context (the entity type of the involved resources, the main property, the activity when the form is called, etc):</p><pre class="xml" xml:space="preserve"><code>
&lt;WorkflowEditEntityForm Identifier="Workflow_Directory_User_ChangeIsDraft" EntityType="Workflow_Directory_User" MainProperty="Workflow_Directory_User:Directory_User" WorkflowRequestType="Self" Activity="Directory_User_ChangeIsDraft:Request" HideRoles="true" FormTitle_L1="Change IsDraft"/&gt;
</code></pre>
                                            <p>A <code>WorkflowEditEntityForm</code> requires one child element <code>MainControl</code> that defines the actual content of the workflow's form and calls the form created previously:</p><pre class="xml" xml:space="preserve"><code>
&lt;WorkflowEditEntityForm Identifier="Workflow_Directory_User_ChangeIsDraft" EntityType="Workflow_Directory_User" MainProperty="Workflow_Directory_User:Directory_User" WorkflowRequestType="Self" Activity="Directory_User_ChangeIsDraft:Request" HideRoles="true" FormTitle_L1="Change IsDraft"&gt;
  <b>&lt;MainControl OutputType="TransformImport" EmbeddedForm="Workflow_Directory_User_ChangeIsDraft_Base" /&gt;</b>
&lt;/WorkflowEditEntityForm&gt;
</code></pre>
                                            <p style="text-align: center;">
                                                <img src="../../../../../Resources/Images/HowTo_ResourceUpdateNo_form_V603.png" alt="UI Form" style="width: 823px;height: 191px;" />
                                            </p>
                                            <h3 id="add-a-summary-optional">Add a summary (Optional)</h3>
                                            <p>Another child element <code>SummaryControl</code> can be added to insert a summary part, i.e. the form used after the workflow execution to show some values, most of the time those affected by the workflow, typically the properties editable in the workflow or generated properties. So in our situation, it displays the <code>IsDraft</code> attribute that the user just changed:</p><pre class="xml" xml:space="preserve"><code>
&lt;WorkflowEditEntityForm Identifier="Workflow_Directory_User_ChangeIsDraft" EntityType="Workflow_Directory_User" MainProperty="Workflow_Directory_User:Directory_User" WorkflowRequestType="Self" Activity="Directory_User_ChangeIsDraft:Request" HideRoles="true" FormTitle_L1="Change IsDraft"&gt;  &lt;MainControl OutputType="TransformImport" EmbeddedForm="Workflow_Directory_User_ChangeIsDraft_Base" /&gt;
  <b>&lt;SummaryControl OutputType="LayoutContainer" EntityType="Directory_User"&gt;    &lt;Control Binding="IsDraft" /&gt;  &lt;/SummaryControl&gt;</b>
&lt;/WorkflowEditEntityForm&gt;
</code></pre>
                                            <p style="text-align: center;">
                                                <img src="../../../../../Resources/Images/HowTo_ResourceUpdateNo_summary_V603.png" alt="UI Summary" style="width: 673px;height: 442px;" />
                                            </p>
                                            <h2 id="assign-the-right-permissions">Assign the Right Permissions</h2>
                                            <p>Some profiles must get specific permissions so that the workflow is visible and usable by the right users.
Read about <a href="../../../toolkit/xml-configuration/workflows/workflow/index.html" target="_parent" title="Workflow" alt="Workflow" class="MCXref xref">
              
              Workflow
              </a>s permissions.</p>
                                            <p>Below is an example of an access control rule where the <code>Administrator</code> profile gets the permissions for the whole update request from the previously created workflow:</p><pre class="xml" xml:space="preserve"><code>
&lt;AccessControlRule Profile="Administrator" EntityType="Workflow_Directory_User" Identifier="Administrator_Workflows_Directory_User_Internal*" DisplayName_L1="Administrator_Workflows_Directory_User_Internal*"&gt;  &lt;Entry Permission="/Custom/Workflows/Directory_User_ChangeIsDraft/Request/ActionPending" CanExecute="true" /&gt;  &lt;Entry Permission="/Custom/Workflows/Directory_User_ChangeIsDraft/Request/RefinePending" CanExecute="true" /&gt;  &lt;Entry Permission="/Custom/Workflows/Directory_User_ChangeIsDraft/Request/Aborted" CanExecute="true" /&gt;  &lt;Entry Permission="/Custom/Workflows/Directory_User_ChangeIsDraft/Request/Purged" CanExecute="true" /&gt;&lt;/AccessControlRule&gt;
</code></pre>
                                            <h2 id="create-menu-items-in-the-ui">Create Menu Items in the UI</h2>
                                            <p><a href="../../../toolkit/xml-configuration/user-interface/menuitem/index.html" target="_parent" title="Menu Item" alt="Menu Item" class="MCXref xref">
              
              Menu Item
              </a> must be defined to make the workflow accessible in the UI.</p>
                                            <p>Updating an existing resource, this workflow manages one given resource at a time. Hence an interesting location for this workflow could be the individual view page of users.</p>
                                            <p style="text-align: center;">
                                                <img src="../../../../../Resources/Images/MenuItems_userView_V603.png" alt="Workflow Menu Items - User's Page" style="width: 809px;height: 221px;" />
                                            </p>
                                            <p>To create a menu item here for the new workflow, you can add the following XML configuration to the existing menu items list:</p><pre class="xml" xml:space="preserve"><code>
&lt;MenuItem Identifier="Menu_Directory_User" DisplayName_L1="Menu"&gt;  &lt;MenuItem Identifier="Menu_Directory_User_Changes" DisplayName_L1="Actions"&gt;    &lt;MenuItem Identifier="Menu_Directory_User_Changes_Update" DisplayName_L1="Section"&gt;      ...
      <b>&lt;MenuItem Identifier="Menu_Directory_User_Changes_ChangeIsDraft" DisplayName_L1="Change IsDraft" IconCode="Edit" Workflow="Directory_User_ChangeIsDraft" /&gt;</b>
    &lt;/MenuItem&gt;  &lt;/MenuItem&gt;&lt;/MenuItem&gt;
</code></pre>
                                            <h2 id="add-aspects">Add Aspects</h2>
                                            <p>For each workflow, it is possible to add aspects according to the workflow's purpose.</p>
                                            <h2 id="customize-the-display-table-optional">Customize the Display Table (Optional)</h2>
                                            <p>To configure a display table different from the default one provided by <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span>,  see the <a href="../../../ui/how-tos/custom-display-table/index.html" target="_parent" title="Customize Display Tables" alt="Customize Display Tables" class="MCXref xref">Customize Display Tables</a> topic for additional information.</p>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
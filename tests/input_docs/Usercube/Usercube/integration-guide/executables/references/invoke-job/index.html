<!DOCTYPE html>
<html lang="en-us" class="js csstransforms3d _Skins_HTML5___Side_Navigation" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Home Page|Integration Guide|Executables|References: Executables">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>
              
              Usercube-Invoke-Job
              </title>
        <link href="../../../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <script src="../../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body class="" data-url="../../../../integration-guide/executables/references/invoke-job/">
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../../index.html" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <section id="body">
                                        <div id="body-inner">
                                            <h1>
              
              Usercube-Invoke-Job
              </h1>
                                            <p>This tool launches a job on the agent side.</p>
                                            <h2 id="behavior-details">Behavior Details</h2>
                                            <p>The Usercube-Invoke-Job.exe tool is a <u>state machine</u>.</p>
                                            <p>
                                                <img src="../../../../../Resources/Images/Job_Operation.png" alt="Schematization" style="box-shadow: none;" />
                                            </p>
                                            <p>When a job is launched, the state machine starts by computing all the tasks that must be launched in the job.</p>
                                            <p>Each task is assigned a launch order which can be configured in <a href="../../../toolkit/xml-configuration/jobs/job/index.html" target="_blank" title="Job" alt="Job" class="MCXref xref">
              
              Job
              </a> steps. All the job's tasks are grouped together according to their launch order, and they are launched by group. Such task grouping allows the job to be faster executed.</p>
                                            <div class="notices info">
                                                <p>The launch orders of all the tasks of a job can be listed by using the <a href="../get-jobsteps/index.html" target="_parent" title="Usercube-Get-JobSteps" alt="Usercube-Get-JobSteps" class="MCXref xref">
              
              Usercube-Get-JobSteps
              </a> executable.</p>
                                            </div>
                                            <p>Before any task is launched, the state machine checks the task's parent tasks in order to verify whether the task must be launched or not.</p>
                                            <p>If the task must be launched, then the state machine checks whether the task should be started server- or agent-side.</p>
                                            <p>Then the task is launched, and then:</p>
                                            <ul>
                                                <li>
                                                    <p>if the task completes successfully, then the next task is loaded and started, or if this was the last task then the job ends successfully;</p>
                                                </li>
                                                <li>
                                                    <p>if the task exits in error, then the whole job exits in error and stops;</p>
                                                </li>
                                                <li>
                                                    <p>if the job is requested to stop from the UI, then the job's state switches to <code>cancelled</code> and is transmitted to the current task in order to not launch the next task;</p>
                                                    <div class="notices note">
                                                        <p>A canceled job is not stopped straight away, as the current task first needs to be finished.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <p>if the task exits in error while the warning mode is active, then the next job is loaded.</p>
                                                    <div class="notices note">
                                                        <p>Only export tasks can have this warning mode.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <p>if the task exits blocked, then the whole job stops and can be restarted manually at its breakpoint;</p>
                                                    <div class="notices note">
                                                        <p>Only synchronization and provisioning tasks can exit blocked.</p>
                                                    </div>
                                                </li>
                                            </ul>
                                            <p>In the case where the job is blocked and restarted:</p>
                                            <ul>
                                                <li>
                                                    <p>if the blocked task is a <a href="../../../toolkit/xml-configuration/jobs/tasks/server/synchronizetask/index.html" target="_parent" title="Synchronize Task" alt="Synchronize Task" class="MCXref xref">
              
              Synchronize Task
              </a>, then the state machine runs a synchronization validation on the related connector, and uses the id of the blocked task instance to synchronize the related tables;</p>
                                                </li>
                                                <li>
                                                    <p>if the blocked task is a <a href="../../../toolkit/xml-configuration/jobs/tasks/server/generateprovisioningorderstask/index.html"><code>GenerateProvisioningOrdersTask</code></a>, then the state machine forces the same provisioning on the related connector.</p>
                                                    <div class="notices info">
                                                        <p>Both the synchronization validation and the forced provisioning are virtual jobs that do not exist in the database. However, they will be visible in the UI which keeps track of any launched task.</p>
                                                    </div>
                                                </li>
                                            </ul>
                                            <p>In both cases, the state machine resumes the job with the tasks that were not started due to the blockage.</p>
                                            <p>Any task launched by the state machine is linked to a job instance in order to keep track of the launch group.</p>
                                            <h2 id="example">Example</h2><pre class="powershell" xml:space="preserve"><code>
./Usercube-Invoke-Job.exe -j "AccessCertificationEnd" --api-secret secret --api-client-id Job --api-url "http://localhost:5000"
</code></pre>
                                            <h2 id="arguments">Arguments</h2>
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th>Argument Name</th>
                                                        <th>Details</th>
                                                    </tr>
                                                </thead>
                                            </table>
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th />
                                                        <th />
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>--job-identifier (-j)<br /><span class="requiredAttribute">required</span></td>
                                                        <td><strong>Type</strong>
                                                            <br />String<br /><br /><strong>Description</strong><p>Job's identifier to be launched.</p></td>
                                                    </tr>
                                                    <tr>
                                                        <td>--repair-job (-r)<br /><span class="optionalAttribute">optional</span></td>
                                                        <td><strong>Type</strong>
                                                            <br />No Value<br /><br /><strong>Description</strong><p>Bool to Decide launch Synchronization Validation or Provisioning with force.</p></td>
                                                    </tr>
                                                    <tr>
                                                        <td>--begin-job-step (-b)<br /><span class="optionalAttribute">optional</span></td>
                                                        <td><strong>Type</strong>
                                                            <br />String<br /><br /><strong>Description</strong><p>The step from which the job starts.</p></td>
                                                    </tr>
                                                    <tr>
                                                        <td>--end-job-step (-e)<br /><span class="optionalAttribute">optional</span></td>
                                                        <td><strong>Type</strong>
                                                            <br />String<br /><br /><strong>Description</strong><p>The step at which the job stops.</p></td>
                                                    </tr>
                                                    <tr>
                                                        <td>--task-identifier (-t)<br /><span class="optionalAttribute">optional</span></td>
                                                        <td><strong>Type</strong>
                                                            <br />String<br /><br /><strong>Description</strong><p>Specify the identification of the task to be started in the job (only this task will be started).</p></td>
                                                    </tr>
                                                    <tr>
                                                        <td>--force-synchronization-provisioning (-f)<br /><span class="optionalAttribute">optional</span></td>
                                                        <td><strong>Type</strong>
                                                            <br />Int64<br /><br /><strong>Description</strong><p>Forces execution when the threshold is reached or exceeded.</p></td>
                                                    </tr>
                                                    <tr>
                                                        <td>--task-type (-c)<br /><span class="optionalAttribute">optional</span></td>
                                                        <td><strong>Type</strong>
                                                            <br />String<br /><br /><strong>Description</strong><p>The first task found with this type is launched.</p></td>
                                                    </tr>
                                                    <tr>
                                                        <td>--task-string-contains (-s)<br /><span class="optionalAttribute">optional</span></td>
                                                        <td><strong>Type</strong>
                                                            <br />String<br /><br /><strong>Description</strong><p>Launches all tasks with an identifier containing the given value.</p></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th />
                                                        <th />
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>--api-client-id<br /><span class="requiredAttribute">required</span></td>
                                                        <td><strong>Type</strong>
                                                            <br />String<br /><br /><strong>Description</strong><p>Login used to authenticate to the server. Every request from agent to server needs to be authenticated with an <a href="../../../toolkit/xml-configuration/access-control/openidclient/index.html" target="_parent" class="MCXref xref">
              
              OpenIdClient
              </a> Connect /Secret pair, linked to a profile with the relevant permissions.</p></td>
                                                    </tr>
                                                    <tr>
                                                        <td>--api-secret<br /><span class="requiredAttribute">required</span></td>
                                                        <td><strong>Type</strong>
                                                            <br />String<br /><br /><strong>Description</strong><p>Password used to authenticate to the server. Every request from agent to server needs to be authenticated with an <a href="../../../toolkit/xml-configuration/access-control/openidclient/index.html" target="_parent" class="MCXref xref">
              
              OpenIdClient
              </a> Connect /Secret pair/Secret pair, linked to a profile with the relevant permissions.</p></td>
                                                    </tr>
                                                    <tr>
                                                        <td>--api-url<br /><span class="requiredAttribute">required</span></td>
                                                        <td><strong>Type</strong>
                                                            <br />String<br /><br /><strong>Description</strong><p>URL of <span class="mc-variable IdentityManager.Product_Stort_Name variable">Identity Manager</span> server.</p></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
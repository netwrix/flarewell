<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Stealthbits_WebsiteSkin" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedHeader%]|[%=System.LinkedHeader%]|[%=System.LinkedHeader%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="shortcut icon" href="../../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="32x32" href="../../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../../Skins/Favicons/favicon-16x16.png" /><title>Global Filters Tab</title>
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <link rel="shortcut icon" href="../../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="32x32" href="../../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../Overview.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>
                                        <script type="text/javascript" src="../../../../Resources/zzJavaScript/plugins.min.js">
                                        </script>
                                    </p>
                                    <div role="main" id="mc-main-content">
                                        <h1>Global Filters Tab</h1>
                                        <p>The Global Filters options are for excluding specific Active Directory and Authentication events from being monitored.</p>
                                        <p class="p_5" style="text-align: center;">
                                            <img src="../../../../Resources/Images/ActivityMonitor/MonitoredDomains/GlobalFilters/GlobalFiltersTab.png" class="img_2" alt="Global Filters Tab" />
                                        </p>
                                        <p>The filter options are grouped by AD Global Pre-Filters, and Authentication Global Pre-Filters. Check the boxes to activate the filters. To disable for diagnostic purposes, simply uncheck the option(s) and click OK. All Authentication Global Pre-Filters options require configuration before they can be enabled.</p>
                                        <p>Enable all of the AD Global Pre-Filters options as well as the Exclude Logins from Machine Accounts option in the Authentication Global Pre-Filters section.</p>
                                        <p>When activated, the AD Agent(s) filters out the event data according to configuration defined in the <code>filters.json</code> file located in the installation directory.</p>
                                        <p>The configurable options in the Global Filters tab are:</p>
                                        <ul>
                                            <li>
                                                <p>Exclude ‘Noise’ Events Option</p>
                                            </li>
                                            <li>
                                                <p>Exclude AD DNS Events Option</p>
                                            </li>
                                            <li>
                                                <p>Exclude Logins from Machine Accounts Option</p>
                                            </li>
                                            <li>
                                                <p>Exclude Authentication Events from Selected Hosts Option</p>
                                            </li>
                                            <li>
                                                <p>Exclude Authentication Events from Selected Accounts Option</p>
                                            </li>
                                        </ul>
                                        <p>The ‘Help’ icon (<b>?</b>) opens a window that explains the type of “noise” events being filtered.</p>
                                        <h2>Exclude ‘Noise’ Events Option</h2>
                                        <p>This option is enabled by default to filter out login and internal low level attributes which can be considered ‘noise’ events. This option can be scoped to include any combination to the following ‘noise’ events:</p>
                                        <ul>
                                            <li>
                                                <p>Successful AD User Logins – Excludes events with the following attributes where ‘objectClass’ does not equal computer:</p>
                                                <ul>
                                                    <li>
                                                        <p>logonCount</p>
                                                    </li>
                                                    <li>
                                                        <p>lastLogon</p>
                                                    </li>
                                                    <li>
                                                        <p>badPwdCount</p>
                                                    </li>
                                                    <li>
                                                        <p>lastLogonTimestamp</p>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li>
                                                <p>AD User Logins with Bad Password – Excludes events with the following set of attributes where ‘objectClass’ does not equal computer:</p>
                                                <ul>
                                                    <li>
                                                        <p>badPwdCount </p>
                                                    </li>
                                                    <li>
                                                        <p>badPasswordTime</p>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li>
                                                <p>AD Computer Logins – Excludes events with the following set of attributes where ‘objectClass’ equals computer:</p>
                                                <ul>
                                                    <li>
                                                        <p>logonCount</p>
                                                    </li>
                                                    <li>
                                                        <p>lastLogon</p>
                                                    </li>
                                                    <li>
                                                        <p>badPwdCount</p>
                                                    </li>
                                                    <li>
                                                        <p>lastLogonTimestamp</p>
                                                    </li>
                                                    <li>
                                                        <p>badPasswordTime</p>
                                                    </li>
                                                    <li>
                                                        <p>badPwdCount</p>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li>
                                                <p>Low Level Attributes – Excludes the following attributes from event:</p>
                                                <ul>
                                                    <li>
                                                        <p>lmPwdHistory</p>
                                                    </li>
                                                    <li>
                                                        <p>dBCSPwd</p>
                                                    </li>
                                                    <li>
                                                        <p>ntPwdHistory</p>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                        <h2>Exclude AD DNS Events Option</h2>
                                        <p>This option is enabled by default to filter out DNS events. They must meet both of the following conditions to be excluded:</p>
                                        <ul>
                                            <li>
                                                <p>objectClass = ‘dnsNode’ or ‘dnsZone’</p>
                                            </li>
                                            <li>
                                                <p>Contains the ‘dnsRecord’ or ‘dNSTombstoned’ attribute</p>
                                            </li>
                                        </ul>
                                        <h2>Exclude Logins from Machine Accounts Option</h2>
                                        <p>This option is enabled by default to filter out machine logins. Click the configure link to open the Edit Accounts window. </p>
                                        <p class="p_5" style="text-align: center;">
                                            <img src="../../../../Resources/Images/ActivityMonitor/MonitoredDomains/GlobalFilters/EditAccountsExcludeLoginsMachineAccounts.png" class="img_4" alt="Edit Accounts window" title="Edit Accounts window" />
                                        </p>
                                        <p>The Exclude Logins from Machine Accounts collection is only accessible for configuration through the Global Filters tab. </p>
                                        <p class="Note-1" data-mc-autonum="&lt;b&gt;NOTE: &lt;/b&gt;"><span class="autonumber"><span class="Note"><b>NOTE: </b></span></span>Only perpetrators with accounts ending in “$” are considered for this filter. Wild cards (*) can be used for partial matches to account names.</p>
                                        <p>All machine accounts in the textbox are either included or excluded from event data monitoring by the AD Agent. Machine accounts not in the list have the unselected property applied. </p>
                                        <p>Repeat the process until all machine accounts to be included or excluded from Authentication event data have been entered in the list. Then click <b>OK</b>.</p>
                                        <p class="Bold_Subheading">Usage Tip</p>
                                        <p class="p_3">Windows Server 2012 introduced gMSA (Group Managed Service Accounts). The account names for gMSA accounts include “$” in their names so by default authentication traffic generated by these accounts is filtered out because they ‘look’ like machine accounts, which prior to Server 2012 were the only account names ending in “$”. The ability to add a list of filter strings to the “Exclude Logins from Machine Accounts” global filter provides a means to capture activity by gMSA type accounts as this activity is typically of interest where as true ‘machine accounts’ is not. By supplying either an explicit list of gMSA account names, or if a naming convention has been adopted, a set of wild card strings such as “gMSA*” or “svc*”, allows capturing authentication activity from such accounts while ignoring the noisy ‘machine accounts’.</p>
                                        <h2>Exclude Authentication Events from Selected Hosts Option</h2>
                                        <p>This option is disabled by default as it requires configuration before it can be enabled. Click the selected hosts link to open the Edit Hosts window. </p>
                                        <p style="text-align: center;">
                                            <img src="../../../../Resources/Images/ActivityMonitor/MonitoredDomains/GlobalFilters/EditHostsExcludeSelectedHosts.png" />
                                        </p>
                                        <p>The Exclude Authentication Events from selected hosts collection is only accessible for configuration through the Global Filters tab. All three methods of identification for a host (IP Address, NETBIOS host name, or DNS host name) must be known in order to effectively exclude authentication from the host. Identify the host to be excluded in the textbox of the IP Address column and press the Enter or Tab to add another row on the grid. <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> attempts to discover the NETBIOS host name and the DNS host name associated with the supplied IP Address. </p>
                                        <p>Repeat the process until all hosts for which Authentication event data will not be collected have been entered in the list. Then click <b>OK</b>.</p>
                                        <h2>Exclude Authentication Events from Selected Accounts Option</h2>
                                        <p>This option is disabled by default as it requires configuration before it can be enabled. Click the selected accounts link to open the Edit Accounts window. </p>
                                        <p style="text-align: center;">
                                            <img src="../../../../Resources/Images/ActivityMonitor/MonitoredDomains/GlobalFilters/EditAccountsExcludeAuthenticationSelectedAccounts.png" />
                                        </p>
                                        <p>The Exclude Authentication Events from selected accounts collection is only accessible for configuration through the Global Filtering tab. Account names [domain name\account] can also be typed in the textbox. Wild cards (*) can be used as part of either the domain name or account. An asterisk (*) appearing anywhere other than as the first character or the last character are treated as a literal character instead of as a wild card. </p>
                                        <p>For example, *\Service1 would exclude all Service1 accounts whether it is a domain or local account, and Example\Service* would exclude all accounts that start with “Service” for the Example domain.</p>
                                        <p>Repeat the process until all accounts to be excluded from Authentication event data have been entered in the list. Then click <b>OK</b>.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
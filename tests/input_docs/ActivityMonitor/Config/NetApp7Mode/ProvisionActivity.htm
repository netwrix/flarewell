<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Stealthbits_WebsiteSkin" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedHeader%]|[%=System.LinkedTitle%]|NAS Device Configuration|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Provision FPolicy Account</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../ActivityMonitor/Overview.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>
                                        <script type="text/javascript" src="../../Resources/zzJavaScript/plugins.min.js">
                                        </script>
                                    </p>
                                    <div role="main" id="mc-main-content">
                                        <h1>Provision FPolicy Account</h1>
                                        <p>This topic describes the steps needed to create a user account with the privileges required to connect the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> Activity Agent to the FPolicy engine and to execute the NetApp API calls required for activity monitoring and configuration. </p>
                                        <p>Provisioning this account is a three part process:</p>
                                        <ul>
                                            <li>
                                                <p>Part 1: Create Role with API/CLI Access</p>
                                            </li>
                                            <li>
                                                <p>Part 2: Create a Group &amp; Assign Role</p>
                                            </li>
                                            <li>
                                                <p>Part 3: Add User to Group</p>
                                            </li>
                                        </ul>
                                        <p>Relevant NetApp Documentation: To learn more about node access controls, please visit the NetApp website and read the <a href="https://library.netapp.com/ecmdocs/ECMP1511537/html/man1/na_useradmin.1.html" class="Hyperlink">na_useradmin – Administers node access controls</a> article.</p>
                                        <h2>Part 1: Create Role with API/CLI Access</h2>
                                        <p>This section provides instructions for creating a role with access to the following commands:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>login<span style="color: #000000; ">-</span>http<span style="color: #000000; ">-</span>admin<br />api<span style="color: #000000; ">-</span>system<span style="color: #000000; ">-</span>api<span style="color: #000000; ">-</span>list<br />api<span style="color: #000000; ">-</span>system<span style="color: #000000; ">-</span>get<span style="color: #000000; ">-</span>version<br />api<span style="color: #000000; ">-</span>cifs<span style="color: #000000; ">-</span>share<span style="color: #000000; ">-</span>list<span style="color: #000000; ">-</span>iter<span style="color: #000000; ">-*</span><br />api<span style="color: #000000; ">-</span>volume<span style="color: #000000; ">-</span>list<span style="color: #000000; ">-</span>info<span style="color: #000000; ">-</span>iter<span style="color: #000000; ">-*</span><br />api<span style="color: #000000; ">-</span>fpolicy<span style="color: #000000; ">*</span><br />cli<span style="color: #000000; ">-</span>fpolicy<span style="color: #000000; ">*</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Note-1" data-mc-autonum="&lt;b&gt;NOTE: &lt;/b&gt;"><span class="autonumber"><span class="Note"><b>NOTE: </b></span></span>The <code>api-fpolicy*</code> command is required for  automatic configuration of FPolicy. The <code>cli-fpolicy*</code> command is required to use the “Enable and connect FPolicy” option for a Monitored Host configuration. </p>
                                        <p class="Bold_Subheading">The following command needs to be run to create the role.</p>
                                        <p>Run the following command when provisioning an account for manual configuration of FPolicy; it includes the "Enable and connect FPolicy" option requirement:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>useradmin role &#8209;add <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> &#8209;c <span style="color: #df5000; ">"[ROLE_DESCRIPTION]"</span> &#8209;a login&#8209;http&#8209;admin<span style="color: #000000; ">,</span>api&#8209;system&#8209;api&#8209;list<span style="color: #000000; ">,</span>api&#8209;system&#8209;get&#8209;version<span style="color: #000000; ">,</span>api&#8209;cifs&#8209;share&#8209;list&#8209;iter&#8209;<span style="color: #000000; ">*,</span>api&#8209;volume&#8209;list&#8209;info&#8209;iter&#8209;<span style="color: #000000; ">*,</span>cli&#8209;fpolicy<span style="color: #000000; ">*</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>useradmin role &#8209;add enterpriseauditor &#8209;c <span style="color: #df5000; ">"Role for Enterprise Auditor"</span> &#8209;a login&#8209;http&#8209;admin<span style="color: #000000; ">,</span>api&#8209;system&#8209;api&#8209;list<span style="color: #000000; ">,</span>api&#8209;system&#8209;get&#8209;version<span style="color: #000000; ">,</span>api&#8209;cifs&#8209;share&#8209;list&#8209;iter&#8209;<span style="color: #000000; ">*,</span>api&#8209;volume&#8209;list&#8209;info&#8209;iter&#8209;<span style="color: #000000; ">*,</span>cli&#8209;fpolicy<span style="color: #000000; ">*</span></code></pre>
                                            </div>
                                        </div>
                                        <p>Run the following command when provisioning an account for automatic configuration of FPolicy; it includes the "Enable and connect FPolicy" option requirement:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>useradmin role &#8209;add <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span> &#8209;c <span style="color: #df5000; ">"[ROLE_DESCRIPTION]"</span> &#8209;a login&#8209;http&#8209;admin<span style="color: #000000; ">,</span>api&#8209;system&#8209;api&#8209;list<span style="color: #000000; ">,</span>api&#8209;system&#8209;get&#8209;version<span style="color: #000000; ">,</span>api&#8209;cifs&#8209;share&#8209;list&#8209;iter&#8209;<span style="color: #000000; ">*,</span>api&#8209;volume&#8209;list&#8209;info&#8209;iter&#8209;<span style="color: #000000; ">*,</span>api&#8209;fpolicy<span style="color: #000000; ">*,</span>cli&#8209;fpolicy<span style="color: #000000; ">*</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>useradmin role &#8209;add enterpriseauditor &#8209;c <span style="color: #df5000; ">"Role for Enterprise Auditor"</span> &#8209;a login&#8209;http&#8209;admin<span style="color: #000000; ">,</span>api&#8209;system&#8209;api&#8209;list<span style="color: #000000; ">,</span>api&#8209;system&#8209;get&#8209;version<span style="color: #000000; ">,</span>api&#8209;cifs&#8209;share&#8209;list&#8209;iter&#8209;<span style="color: #000000; ">*,</span>api&#8209;volume&#8209;list&#8209;info&#8209;iter&#8209;<span style="color: #000000; ">*,</span>api&#8209;fpolicy<span style="color: #000000; ">*,</span>cli&#8209;fpolicy<span style="color: #000000; ">*</span></code></pre>
                                            </div>
                                        </div>
                                        <p>After the role is created, complete Part 2: Create a Group &amp; Assign Role.</p>
                                        <h2>Part 2: Create a Group &amp; Assign Role</h2>
                                        <p>Once the role has been created, it must be attached to a group. The following command needs to be run to create a group and assign the role to it.</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>useradmin group &#8209;add <span style="color: #000000; ">[</span>GROUP_NAME<span style="color: #000000; ">]</span> &#8209;r <span style="color: #000000; ">[</span>ROLE_NAME<span style="color: #000000; ">]</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>useradmin group &#8209;add nwxgroup &#8209;r enterpriseauditor</code></pre>
                                            </div>
                                        </div>
                                        <p>After the group is created and the role is assigned, complete Part 3: Add User to Group.</p>
                                        <h2>Part 3: Add User to Group</h2>
                                        <p>The final step is to add the domain user to the new group, Backup Operators group, and Power Users group. The following command needs to be run to add the user to all three groups.</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>useradmin domainuser &#8209;add <span style="color: #000000; ">[</span>DOMAIN\USER<span style="color: #000000; ">]</span> &#8209;g <span style="color: #000000; ">[</span>GROUP_NAME<span style="color: #000000; ">,</span> WITHIN <span style="color: #df5000; ">" MARKS IF MULTIPLE WORDS],"</span>Backup Operators<span style="color: #df5000; ">","</span>Power Users<span style="color: #df5000; ">"</span></code></pre>
                                            </div>
                                        </div>
                                        <p class="Bold_Subheading">Example:</p>
                                        <div class="codeSnippet">
                                            <div style="mc-code-lang: CPP;" class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>useradmin domainuser &#8209;add example\user1 &#8209;g nwxgroup<span style="color: #000000; ">,</span><span style="color: #df5000; ">"Backup Operators"</span><span style="color: #000000; ">,</span><span style="color: #df5000; ">"Power Users"</span></code></pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Stealthbits_WebsiteSkin" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedHeader%]|[%=System.LinkedTitle%]|NAS Device Configuration" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Panzura CloudFS Monitoring</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/StealthbitsTemplate.css" rel="stylesheet" type="text/css" />
        <link href="../../Resources/TableStyles/Sb Table 1.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" aria-label="title tab bar" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../ActivityMonitor/Overview.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>
                                        <script type="text/javascript" src="../../Resources/zzJavaScript/plugins.min.js">
                                        </script>
                                    </p>
                                    <div role="main" id="mc-main-content">
                                        <h1>Panzura CloudFS Monitoring</h1>
                                        <p><span class="mc-variable SAM.Product_Long_Name variable">Netwrix Activity Monitor</span> can be configured to monitor file system activity on Panzura CloudFS file-based storage.</p>
                                        <p>The monitoring process is based on two technologies:</p>
                                        <ul>
                                            <li>
                                                <p>Third Party Vendor Support auditing feature – Delivers audit events to <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> Agents</p>
                                            </li>
                                            <li>
                                                <p>CloudFS API – Used to register <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> as a consumer of audit events to query and update auditing settings</p>
                                            </li>
                                        </ul>
                                        <p>Auditing must be enabled on the master Panzura node and optionally overridden on the subordinate nodes to support different deployment scenarios depending on the expected load and network latency. A single agent monitors several Panzura nodes.</p>
                                        <p style="text-align: center;">
                                            <img src="../../Resources/Images/Config/Panzura/PanzuraSingleAgntMonitor.png" />
                                        </p>
                                        <p> Audit events are distributed between two agents. Audit settings are overridden on one Panzura node.</p>
                                        <p style="text-align: center;">
                                            <img src="../../Resources/Images/Config/Panzura/AuditEventsTwoAgnt_Panzura.png" />
                                        </p>
                                        <p>The monitoring process relies on the Third Party Vendor Support auditing feature of the Panzura CloudFS platform, which uses the AMQP protocol for event delivery. Unlike typical uses of the AMQP protocol that require messaging middleware, the Panzura master and subordinate nodes connect directly to the <span class="mc-variable SAM.Product_Long_Name variable">Netwrix Activity Monitor</span> Agent, eliminating the need for middleware.</p>
                                        <p><span class="mc-variable SAM.Product_Long_Name variable">Netwrix Activity Monitor</span> uses Panzura API to register itself as a consumer of auditing events. It also uses the API to perform periodic checks to ensure the auditing settings in Panzura are correct. The credentials to access the API must be specified when a Panzura host is added to <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> for monitoring. Additionally, the IP address of the port is 4497 by default and can be customized in the properties for the Agent.</p>
                                        <p class="Note-1" data-mc-autonum="&lt;b&gt;NOTE: &lt;/b&gt;"><span class="autonumber"><span class="Note"><b>NOTE: </b></span></span>See the <a href="../../ActivityMonitor/Admin/MonitoredHosts/Add/Panzura.htm" target="_parent" title="Panzura" alt="Panzura" class="MCXref xref">Panzura</a> topic for additional information on Panzura Host.</p>
                                        <p>To prepare Panzura CloudFS for monitoring, auditing must be enabled.</p>
                                        <h2>Enable Auditing in CloudFS</h2>
                                        <p>Auditing in CloudFS can be enabled either automatically or manually.</p>
                                        <p class="Recommended-1" data-mc-autonum="&lt;span style=&quot;color: #fb8000;&quot; class=&quot;mcFormatColor&quot;&gt;&lt;b&gt;&lt;i&gt;RECOMMENDED: &lt;/i&gt;&lt;/b&gt;&lt;/span&gt;"><span class="autonumber"><span class="Recommended"><span style="color: #fb8000;" class="mcFormatColor"><b><i>RECOMMENDED: </i></b></span></span></span><span class="Recommended-1">Using the automatic option using the CloudFS API streamlines the configuration process and ensures that auditing remains enabled and accurate.</span>
                                        </p>
                                        <h2>Automatic Configuration</h2>
                                        <p><span class="mc-variable SAM.Product_Long_Name variable">Netwrix Activity Monitor</span> uses the CloudFS API to configure Third Party Vendor Support auditing option.</p>
                                        <p>If a master node is targeted, the product will configure the global audit settings and assign to be pushed to subordinate nodes. If a subordinate node is targeted, the product will configure the local audit settings to override the global ones.</p>
                                        <p>The product will also ensure the settings are correct with periodic checks.</p>
                                        <h2>Manual Configuration</h2>
                                        <p>Follow these steps to enable auditing.</p>
                                        <p class="Step" data-mc-autonum="&lt;b&gt;Step 1 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 1 – </b></span></span>Navigate to <b>Audit Settings</b> &gt; <b>Third Party Support</b>.</p>
                                        <p class="Step" data-mc-autonum="&lt;b&gt;Step 2 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 2 – </b></span></span>Enable the <b>Generate Third Party Logs</b> option.</p>
                                        <p class="Step" data-mc-autonum="&lt;b&gt;Step 3 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 3 – </b></span></span>Enable the <b>Push to Subordinate(s)</b> option.</p>
                                        <p class="Step" data-mc-autonum="&lt;b&gt;Step 4 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 4 – </b></span></span>Enter <b>other</b> as the Vendor Name.</p>
                                        <p class="Step" data-mc-autonum="&lt;b&gt;Step 5 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 5 – </b></span></span>Under Actions, specify close, create, delete, delxattr, mkdir, move, open, read, remove, rename, rlclaim, rmdir, setxattr, and writeUnder .</p>
                                        <p>If you require monitoring of Directory Read/List operations, which typically generate a high volume of data, also include readdir to the list.</p>
                                        <p class="Step" data-mc-autonum="&lt;b&gt;Step 6 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 6 – </b></span></span>Specify * in Include Files.</p>
                                        <p class="Step" data-mc-autonum="&lt;b&gt;Step 7 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 7 – </b></span></span>Specify - in Exclude Files.</p>
                                        <p class="Step" data-mc-autonum="&lt;b&gt;Step 8 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 8 – </b></span></span>Finally, add the Panzura host to be monitored in the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> Console.</p>
                                        <p>Auditing is now enabled.</p>
                                        <h2>Network Configuration</h2>
                                        <p><span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> agents register themselves as consumers of audit data via the CloudFS API. The agents pass their IP address and port along with other AMQP parameters. Panzura nodes use this information to establish connections with the <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> agents.</p>
                                        <p class="Note-1" data-mc-autonum="&lt;b&gt;NOTE: &lt;/b&gt;"><span class="autonumber"><span class="Note"><b>NOTE: </b></span></span>The address and port used for registration can be found or modified in the agent’s settings.</p>
                                        <p>Follow the steps for network configuration.</p>
                                        <p class="Step-Reset" data-mc-autonum="&lt;b&gt;Step 1 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 1 – </b></span></span>Open <span class="mc-variable SAM.Product_Short_Name variable">Activity Monitor</span> Console.</p>
                                        <p class="Step" data-mc-autonum="&lt;b&gt;Step 2 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 2 – </b></span></span>On the Agents tab, select an agent and click <b>Edit</b>.</p>
                                        <p class="Step" data-mc-autonum="&lt;b&gt;Step 3 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 3 – </b></span></span>Use the Network tab to select the network interface that will be used for registration.</p>
                                        <p class="Step" data-mc-autonum="&lt;b&gt;Step 4 – &lt;/b&gt;"><span class="autonumber"><span class="Step"><b>Step 4 – </b></span></span>Use the Panzura tab to modify the port. The default port is 4497.</p>
                                        <p>The agent will configure the Windows Firewall to allow incoming connections to the specified port automatically. Use the following table to configure the firewall.</p>
                                        <table style="mc-table-style: url('../../Resources/TableStyles/Sb Table 1.css');margin-left: auto;margin-right: auto;" class="TableStyle-Sb_Table_1" cellspacing="21">
                                            <col class="TableStyle-Sb_Table_1-Column-Column1" />
                                            <col class="TableStyle-Sb_Table_1-Column-Column1" />
                                            <col class="TableStyle-Sb_Table_1-Column-Column1" />
                                            <col class="TableStyle-Sb_Table_1-Column-Column1" />
                                            <thead>
                                                <tr class="TableStyle-Sb_Table_1-Head-Header1">
                                                    <th class="TableStyle-Sb_Table_1-HeadE-Column1-Header1">
                                                        <p>Communication Direction</p>
                                                    </th>
                                                    <th class="TableStyle-Sb_Table_1-HeadE-Column1-Header1">
                                                        <p>Protocol</p>
                                                    </th>
                                                    <th class="TableStyle-Sb_Table_1-HeadE-Column1-Header1">
                                                        <p>Ports</p>
                                                    </th>
                                                    <th class="TableStyle-Sb_Table_1-HeadD-Column1-Header1">
                                                        <p>Description</p>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="TableStyle-Sb_Table_1-Body-Body1">
                                                    <td class="TableStyle-Sb_Table_1-BodyE-Column1-Body1">
                                                        <p>Activity
 Monitor Console to Activity Monitor Agents</p>
                                                    </td>
                                                    <td class="TableStyle-Sb_Table_1-BodyE-Column1-Body1">
                                                        <p>TCP</p>
                                                    </td>
                                                    <td class="TableStyle-Sb_Table_1-BodyE-Column1-Body1">
                                                        <p>4498</p>
                                                    </td>
                                                    <td class="TableStyle-Sb_Table_1-BodyD-Column1-Body1">
                                                        <p>Agent
 communication</p>
                                                    </td>
                                                </tr>
                                                <tr class="TableStyle-Sb_Table_1-Body-Body2">
                                                    <td class="TableStyle-Sb_Table_1-BodyE-Column1-Body2">
                                                        <p>Activity Monitor Agent to Panzura
 nodes</p>
                                                    </td>
                                                    <td class="TableStyle-Sb_Table_1-BodyE-Column1-Body2">
                                                        <p>TCP/HTTPS</p>
                                                    </td>
                                                    <td class="TableStyle-Sb_Table_1-BodyE-Column1-Body2">
                                                        <p>443</p>
                                                    </td>
                                                    <td class="TableStyle-Sb_Table_1-BodyD-Column1-Body2">
                                                        <p>CloudFS API</p>
                                                    </td>
                                                </tr>
                                                <tr class="TableStyle-Sb_Table_1-Body-Body1">
                                                    <td class="TableStyle-Sb_Table_1-BodyB-Column1-Body1">
                                                        <p>Panzura
 nodes to Activity Monitor Agent</p>
                                                    </td>
                                                    <td class="TableStyle-Sb_Table_1-BodyB-Column1-Body1">
                                                        <p>TCP/AMQP</p>
                                                    </td>
                                                    <td class="TableStyle-Sb_Table_1-BodyB-Column1-Body1">
                                                        <p>4497</p>
                                                    </td>
                                                    <td class="TableStyle-Sb_Table_1-BodyA-Column1-Body1">
                                                        <p>Audit
 events</p>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
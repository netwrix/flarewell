#!/usr/bin/env python3
import argparse, os, shutil

parser = argparse.ArgumentParser()
parser.add_argument('--input-dir', required=True)
parser.add_argument('--output-dir', required=True)
args = parser.parse_args()

os.makedirs(args.output_dir, exist_ok=True)
for name in os.listdir(args.input_dir):
    if name.lower().endswith(('.htm', '.html')):
        base = os.path.splitext(name)[0] + '.md'
        in_path = os.path.join(args.input_dir, name)
        out_path = os.path.join(args.output_dir, base)
        with open(in_path, 'r', encoding='utf-8') as f_in, open(out_path, 'w', encoding='utf-8') as f_out:
            f_out.write(f_in.read())
print('Conversion completed')
